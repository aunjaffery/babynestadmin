(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{7213:function(e,t,a){"use strict";var r=a(9),n=a(10),o=a(12),s=a(11),l=a(13),i=a(0),c=a.n(i),m=a(563),d=a.n(m),u=a(291),p=a.n(u),f=a(290),g=a.n(f),h=(a(7226),a(7227)),x=a.n(h),b=a(75),E=a(1),y=a(67),_=a(5),v=a(203),N=a.n(v),S=a(121),F=a.n(S),C=(a(246),a(25)),O=(a(288),function(e){return{root:{margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:1*e.spacing.unit,top:1*e.spacing.unit,color:e.palette.grey[500]},close:{padding:e.spacing.unit/2}}}),k={backgroundColor:"#faad63",fontSize:"18px"},w=Object(b.withStyles)(O)(function(e){var t=e.children,a=e.classes,r=e.onClose;return c.a.createElement(p.a,{disableTypography:!0,className:a.root},c.a.createElement(E.ib,{variant:"h6"},t),r?c.a.createElement(E.F,{"aria-label":"Close",className:a.closeButton,onClick:r},c.a.createElement(N.a,null)):null)}),P=Object(b.withStyles)(function(e){return{root:{padding:2*e.spacing.unit}}})(g.a),D=Object(b.withStyles)(function(e){return{root:{backgroundColor:"white"}}})(d.a);function j(e){return c.a.createElement(E.Z,Object.assign({direction:"up"},e))}var I=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).handleClose=function(){a.props.handleClose()},a.detailColumns=[{dataField:"no",isKey:!0,text:"No",editable:!1,autoValue:!0,hidden:!0,footer:"",footerStyle:k},{dataField:"item_image",text:"Item Image",formatter:a.imageFormatter,headerStyle:function(e,t){return{width:"250px"}},footerAlign:"center",footer:"Total",footerStyle:k},{dataField:"item_name",text:"Item Name",footer:"",footerStyle:k},{dataField:"item_sku",text:"Item Sku",footer:"",footerStyle:k},{dataField:"item_qty",text:"Item Quantity",footer:function(e){return e.reduce(function(e,t){return e+t},0)},footerStyle:k},{dataField:"item_price",text:"Item Price",formatter:a.priceFormatter,footer:"",footerStyle:k},{dataField:"item_total_price",text:"Total Price",formatter:a.priceFormatter,footer:function(e){return"Rs. "+e.reduce(function(e,t){return e+t},0)},footerStyle:k}],a.state={order_detail:null,order_stats:null,toggleDialog:!1},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"imageFormatter",value:function(e,t){console.log("Images :: "+JSON.stringify(t));var a=Object.keys(t.item_image).length>0?"".concat(C.a).concat(t.item_image.split(",")[0]):"";return c.a.createElement("img",{style:{width:"30%",textAlign:"center"},src:a,alt:""})}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,this.state.order_stats&&this.state.order_stats.cust_name&&c.a.createElement(E.o,{open:this.state.toggleDialog,onClose:this.handleClose,TransitionComponent:j,fullWidth:!0,maxWidth:"lg",keepMounted:!0,"aria-labelledby":"customized-dialog-title"},c.a.createElement(w,{id:"customized-dialog-title",onClose:this.handleClose},c.a.createElement(E.ib,{variant:"h5",component:"h2"},"Order Details",c.a.createElement(x.a,{content:function(){return e.componentRef}},c.a.createElement(h.PrintContextConsumer,null,function(e){var t=e.handlePrint;return c.a.createElement("span",{className:"mr-30",onClick:t},c.a.createElement(y.F,{className:"text-l",cursor:"pointer"}))})))),c.a.createElement(E.t,null),c.a.createElement(P,{ref:function(t){return e.componentRef=t}},c.a.createElement(E.B,{container:!0,justify:"space-between",direction:"row",alignItems:"center"},c.a.createElement(E.B,{item:!0,xs:4},c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.D,{className:"mr-2 text-20"}),this.state.order_stats.cust_name),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.E,{className:"mr-2 text-20"}),this.state.order_stats.cust_phone,"verified"===this.state.order_stats.mobile_verified?c.a.createElement(E.E,{className:"ml-2 text-green text-20"},"check_circle"):c.a.createElement(E.E,{className:"ml-2 text-red text-20"},"remove_circle")),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.r,{className:"mr-2 text-20"}),this.state.order_stats.cust_email),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},this.state.order_stats.address&&c.a.createElement(c.a.Fragment,null,c.a.createElement(y.v,{className:"mr-2 text-20"})," Address : House"," ",this.state.order_stats.address.split("^")[0],",",this.state.order_stats.address.split("^")[1],",",this.state.order_stats.address.split("^")[2],","," ",this.state.order_stats.cust_city)),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.G,{className:"mr-1 text-20"}),"Order No. ",this.state.order_stats.order_no),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.m,{className:"mr-1 text-20"}),this.state.order_stats.order_date),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.C,{className:"mr-1 text-20"})," Payment method :"," ","cod"==this.state.order_stats.payment_method?"Cash on delivery":"Online Payment"),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.y,{className:"mr-1 text-20"})," Shipping Charges :"," ",c.a.createElement("span",{className:"text-xl text-primary"},this.state.order_stats.shipping_charges),c.a.createElement(y.M,{className:"ml-2 mr-1 text-20"})," Discount :"," ",c.a.createElement("span",{className:"text-xl text-primary"},this.state.order_stats.discounted_bill)),this.state.misc&&Object.keys(this.state.misc.coupon_applied).length>0&&c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.d,{className:"mr-1 text-20"})," Counpon Applied :"," ",c.a.createElement("span",{className:"ml-1 text-l text-green"},this.state.misc.coupon_applied.cop_code)),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(y.K,{className:"mr-1 text-20"})," ",1===this.state.order_stats.source?"WEB":"MOBILE",c.a.createElement(y.s,{className:"ml-4 text-20"})," Order Count :"," ",c.a.createElement("span",{className:"text-xl text-primary"},this.state.misc&&this.state.misc.OrderCount))),c.a.createElement(E.B,{item:!0,xs:4},c.a.createElement("img",{className:"w-xs  rounded",src:"assets/images/logos/BABYNEST.png",alt:"BABYNEST Boutique"}))),c.a.createElement(E.t,{className:"mb-4"}),c.a.createElement("div",{className:"md:flex"},c.a.createElement(D,{className:"flex flex-col flex-1 p-4"},c.a.createElement(E.B,{container:!0,spacing:24},c.a.createElement(E.B,{item:!0,xs:12,className:"justify-center m-auto"},c.a.createElement(_.b,{enter:{animation:"transition.slideUpBigIn"}},c.a.createElement(F.a,{classes:"table-responsive",striped:!0,condensed:!0,keyField:"no",data:this.state.order_detail,columns:this.detailColumns,hover:!0,overflow:"scroll"})))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{toggleDialog:e.toggleDialog,order_detail:e.order_detail,order_stats:e.order_stats,misc:e.misc}}}]),t}(i.Component);t.a=Object(b.withStyles)(O)(I)},7214:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(75),s=a(564),l=a.n(s),i=a(4),c=a.n(i),m=Object(o.withStyles)(function(e){return{root:{display:"flex",alignItems:"center",flexWrap:"wrap",textAlign:"center",color:"white"}}})(l.a);var d=Object(o.withStyles)(function(e){return{pending:{backgroundColor:"#FF9233"},delivered:{backgroundColor:"#00BD56"},inprocess:{backgroundColor:"#09A2F3"},dispatched:{backgroundColor:"#303840"},cancelled:{backgroundColor:"#FF1E5A"},content:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},margin:{margin:e.spacing.unit}}})(function(e){var t=e.classes,a=e.content,r=e.variant,o=e.className;return n.a.createElement(m,{className:c()(t[r],o),label:a})});t.a=Object(o.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(function(e){var t=e.flag;return 0===t?n.a.createElement(d,{content:"pending",variant:"pending"}):1===t?n.a.createElement(d,{content:"delivered",variant:"delivered"}):2===t?n.a.createElement(d,{content:"in process",variant:"inprocess"}):3===t?n.a.createElement(d,{content:"cancelled",variant:"cancelled"}):4===t?n.a.createElement(d,{content:"dispatched",variant:"dispatched"}):void 0})},7346:function(e,t,a){"use strict";a.r(t);var r=a(9),n=a(10),o=a(12),s=a(11),l=a(13),i=a(122),c=a(0),m=a.n(c),d=(a(566),a(1)),u=a(75),p=a(5),f=a(4),g=a.n(f),h=a(121),x=a.n(h),b=a(289),E=a.n(b),y=(a(246),a(21)),_=a(25),v=(a(288),a(93)),N=a(565),S=a.n(N),F=a(66),C=a(19),O=a(16),k=a(134),w=a(43),P=a(76),D=a(7214),j=a(7213),I={backgroundColor:"#faad63",fontSize:"18px"},B=function(e){var t=e.classes,a=(e.variant,e.inputRef),r=void 0===a?function(){}:a,n=Object(i.a)(e,["classes","variant","inputRef"]);return m.a.createElement(m.a.Fragment,null,m.a.createElement(d.fb,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){r(e)},classes:{input:g()(t.input,"py-0 px-16 h-48 pr-48"),notchedOutline:"rounded-8"}},placeholder:"Type to search the product",onChange:function(t){e.onSearch(t.target.value)},variant:"outlined"},n)),m.a.createElement(d.E,{className:"absolute pin-t pin-r h-48 w-48 p-12 pointer-events-none",color:"action"},"search"))},R=function(e){var t=e.options,a=e.currSizePerPage,r=e.onSizePerPageChange;return m.a.createElement("div",{className:"btn-group",role:"group"},t.map(function(e){var t=a==="".concat(e.page);return m.a.createElement("button",{key:e.text,type:"button",onClick:function(){return r(e.page)},className:"btn ".concat(t?"btn-secondary":"btn-warning")},e.text)}))},z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).handleClickOpen=function(){a.setState({toggleDialog:!0})},a.handleClose=function(){a.props.closeDialog()},a.handlePageClick=function(e){a.props.getOrders(e.selected*a.state.recordsPerPage,a.state.recordsPerPage),a.setState({currentPage:e.selected})},a.deleteFormatter=function(e,t,r,n){return m.a.createElement(d.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.onClickSliderDeleted(e,t,r)},icon:"delete",labelposition:"center"},m.a.createElement(d.E,{className:"mr-4 text-20"},"delete"))},a.detailFormatter=function(e,t,r,n){return m.a.createElement(d.d,{bssize:"small",className:"btn-custom",onClick:function(){a.onClickSliderDetail(e,t,r)},icon:"dehaze",labelposition:"center"},m.a.createElement(d.E,{className:"mr-4 text-20"},"dehaze"))},a.columns=[{text:"No",editable:!1,autoValue:!0,hidden:!0},{dataField:"order_id",isKey:!0,text:"Order #"},{dataField:"cust_name",text:"Customer Name",hidden:!0},{dataField:"cust_phone",text:"Customer Phone"},{dataField:"mobile_verified",text:"Mobile Verified?",formatter:a.verifiedFormatter,editable:!1},{dataField:"total_bill",text:"Total bill",formatter:a.priceFormatter},{dataField:"order_status",text:"Status",formatter:a.statusFormatter},{dataField:"detail",text:"Order Detail",isDummyField:!0,editable:!1,formatter:a.detailFormatter}],a.detailColumns=[{dataField:"no",text:"No",isKey:!0,editable:!1,autoValue:!0,hidden:!0,footer:"",footerStyle:I},{dataField:"item_image",text:"Item Image",formatter:a.imageFormatter,headerStyle:function(e,t){return{width:"250px"}},footerAlign:"center",footer:"Total",footerStyle:I},{dataField:"item_name",text:"Item Name",footer:"",footerStyle:I},{dataField:"item_sku",text:"Item Sku",footer:"",footerStyle:I},{dataField:"item_qty",text:"Item Quantity",footer:function(e){return e.reduce(function(e,t){return e+t},0)},footerStyle:I},{dataField:"item_price",text:"Item Price",formatter:a.priceFormatter,footer:"",footerStyle:I},{dataField:"item_total_price",text:"Total Price",formatter:a.priceFormatter,footer:function(e){return"Rs. "+e.reduce(function(e,t){return e+t},0)},footerStyle:I}],a.state={cust_orders:[],order_detail:[],order_stats:{},misc:{},image:null,editSuccess:!1,toggleDialog:!1,pageCount:null,recordsPerPage:30,totalRecords:null,currentPage:0},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.match&&this.props.match.params?this.props.getCustomerOrders(this.props.match.params.cust_id):v.a.push({pathname:"/viewcustomers"})}},{key:"imageFormatter",value:function(e,t){var a="".concat(_.a).concat(t.item_image);return m.a.createElement("img",{style:{width:"30%",textAlign:"center"},src:a,alt:""})}},{key:"statusFormatter",value:function(e,t){var a=t.order_status;return m.a.createElement(D.a,{flag:a})}},{key:"priceFormatter",value:function(e,t){return"Rs. ".concat(e)}},{key:"verifiedFormatter",value:function(e,t){return"unproved"===e?m.a.createElement(d.E,{className:"text-red text-20"},"remove_circle"):m.a.createElement(d.E,{className:"text-green text-20"},"check_circle")}},{key:"onClickSliderDeleted",value:function(e,t,a){var r=t.order_id;this.props.deleteOrder(r,this.state.currentPage*this.state.recordsPerPage,this.state.recordsPerPage)}},{key:"onClickSliderDetail",value:function(e,t,a){var r=t.order_id;this.props.getOrderDetails(r)}},{key:"render",value:function(){var e=this,t={sizePerPageRenderer:R};return m.a.createElement(m.a.Fragment,null,m.a.createElement(p.m,{header:m.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},m.a.createElement("div",{className:"flex flex-col items-start max-w-full"},m.a.createElement(p.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(d.ib,{className:"normal-case flex items-center sm:mb-12",component:y.a,role:"button",to:"/apps/dashboards/analytics"},m.a.createElement(d.E,{className:"mr-4 text-20"},"arrow_back"),"Dashboard")),m.a.createElement("div",{className:"flex items-center max-w-full"},m.a.createElement(p.a,{animation:"transition.expandIn",delay:300},m.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/component_icons/order_history_24dp.png",alt:"{form.name}"})),m.a.createElement("div",{className:"flex flex-col min-w-0"},m.a.createElement(p.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(d.ib,{className:"text-16 sm:text-20 truncate"},"Order History")))))),content:m.a.createElement("div",{className:"md:flex max-w-3xl sm:p-24"},m.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},m.a.createElement(j.a,{handleClose:this.handleClose,order_detail:this.state.order_detail,order_stats:this.state.order_stats,misc:this.state.misc,toggleDialog:this.state.toggleDialog}),m.a.createElement(p.b,{enter:{animation:"transition.slideUpBigIn"}},this.state.cust_orders&&m.a.createElement(E.a,{keyField:"order_id",data:this.state.cust_orders,columns:this.columns,search:!0},function(a){return m.a.createElement("div",{className:"flex flex-col flex-1"},m.a.createElement(B,Object.assign({className:g()("flex flex-1 items-center w-full",g.a)},e.props,a.searchProps)),m.a.createElement("hr",null),m.a.createElement(x.a,Object.assign({},a.baseProps,{classes:"table-responsive",striped:!0,bootstrap4:!0,borderless:!0,keyField:"order_id",hover:!0,overflow:"scroll",draggable:!1,noDataIndication:"Table is Empty",pagination:S()(t)})))}))))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{cust_orders:e.cust_orders,pageCount:Math.ceil(e.totalRecords/t.recordsPerPage),totalRecords:e.totalRecords,toggleDialog:e.toggleDialog,order_detail:e.order_detail,order_stats:e.order_stats,misc:e.misc}}}]),t}(c.Component);t.default=Object(F.a)("custOrders",k.a)(Object(u.withStyles)({appBar:{position:"fixed"},flex:{flex:1},tableRow:{color:"black"}})(Object(C.a)(function(e){return console.log("State in customer Orders :: "+JSON.stringify(e)),{cust_orders:e.custOrders.customer.cust_orders,totalRecords:e.orders.orders.totalRecords,order_detail:e.orders.orders.order_detail,order_stats:e.orders.orders.order_stats,misc:e.orders.orders.misc,toggleDialog:e.orders.orders.toggleDialog}},function(e){return Object(O.c)({getCustomerOrders:w.x,getOrderDetails:P.x,closeDialog:P.q},e)})(z)))}}]);