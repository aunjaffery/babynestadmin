(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{7211:function(e,t,a){"use strict";var n=a(31),r="[ATTRIBUTE] GET ATTRIBUTE VALUES",o="[ATTRIBUTE] GET ATTRIBUTE CATEGORIES",i="[ATTRIBUTE] ADD ATTRIBUTE CATEGORY",c="[ATTRIBUTE] ADD ATTRIBUTE VALUES",l="[DIALOG] CLOSE DIALOG",s="[DIALOG] OPEN DIALOG";function u(){return function(e){Object(n.a)("product/attributeCategories","","",1).then(function(t){return e({type:o,payload:t.data})})}}function d(e){var t="product/getAttributeValues?att_id=".concat(e);return function(e){Object(n.a)(t,"","",1).then(function(t){return e({type:r,payload:t.data})})}}function m(e){return function(t){Object(n.a)("product/addAttributeCategory","POST",e).then(function(e){return t(u()),t({type:i,payload:{name:""}})})}}function p(e){return function(t){Object(n.a)("product/addAttributeCatValues","POST",e).then(function(e){return t({type:c,payload:{toggleDialog:!1}})})}}function g(){return function(e){return e({type:s,payload:{toggleDialog:!0}})}}function h(){return function(e){return e({type:l,payload:{toggleDialog:!1}})}}var f=a(43),b="[PRODUCT] GET PRODUCTS",E="[PRODUCT] ADD SIMPLE PRODUCT",v="[PRODUCT] ADD VARIANT PRODUCT",S="[PRODUCT] UPDATE SIMPLE PRODUCT",y="[PRODUCT] UPDATE PRODUCT STATUS",O="[PRODUCT] DELETE PRODUCT",k="[PRODUCT] DELETE PRODUCT IMAGE",D="[PRODUCT] GENERATE DYNAMIC LINK";function C(){return function(e){Object(n.a)("product","","",!0).then(function(t){return console.log("Product Data :: "+JSON.stringify(t.data)),e({type:b,payload:t.data})})}}function x(e){return function(t){Object(n.a)("product/addSimpleProduct","POST",e).then(function(e){return t({type:E})})}}function T(e){return function(t){Object(n.a)("product/updateSimpleProduct","POST",e).then(function(e){return t(C()),t({type:S})})}}function P(e,t){var a=new FormData;a.append("id",e),a.append("type","product"),a.append("slug",t);return function(e){Object(n.a)("/d-links/add","POST",a).then(function(t){e(w()),e({type:D})}).catch(function(t){e({type:D})})}}function j(e){return function(t){Object(n.a)("product/removeProductImage","POST",e).then(function(e){return t(w()),t({type:k})})}}function N(e){return function(t){Object(n.a)("product/updateDeleteStatus","POST",e).then(function(e){return t(w()),t({type:O})})}}function w(){return function(e){Object(n.a)("product","","",!0).then(function(t){return e({type:b,payload:t.data})})}}function F(e){return function(t){Object(n.a)("product/updateStockStatus","POST",e).then(function(e){return t(w()),t({type:y})})}}var I="[OFFER] GET OFFER",R="[OFFER] ADD OFFER",A="[OFFER] DELETE OFFER";function _(){return function(e){Object(n.a)("offers").then(function(t){return e({type:I,payload:t.data})})}}function U(){return function(e){Object(n.a)("offers","","",1).then(function(t){return e({type:I,payload:t.data})})}}function L(e){return function(t){Object(n.a)("offers/add","POST",e).then(function(e){return t(U()),t({type:R,payload:{toggleDialog:!1}})})}}function B(e){var t="offers/delete?offer_id=".concat(e);return function(e){Object(n.a)(t).then(function(t){return e(U()),e({type:A})})}}a.d(t,"l",function(){return r}),a.d(t,"k",function(){return o}),a.d(t,"a",function(){return i}),a.d(t,"b",function(){return c}),a.d(t,"f",function(){return l}),a.d(t,"o",function(){return s}),a.d(t,"y",function(){return u}),a.d(t,"z",function(){return d}),a.d(t,"q",function(){return m}),a.d(t,"r",function(){return p}),a.d(t,"E",function(){return g}),a.d(t,"u",function(){return h}),a.d(t,"D",function(){return f.z}),a.d(t,"n",function(){return b}),a.d(t,"d",function(){return E}),a.d(t,"e",function(){return v}),a.d(t,"p",function(){return y}),a.d(t,"h",function(){return O}),a.d(t,"i",function(){return k}),a.d(t,"j",function(){return D}),a.d(t,"B",function(){return C}),a.d(t,"t",function(){return x}),a.d(t,"G",function(){return T}),a.d(t,"x",function(){return P}),a.d(t,"F",function(){return j}),a.d(t,"w",function(){return N}),a.d(t,"H",function(){return F}),a.d(t,"D",function(){return f.z}),a.d(t,"C",function(){return f.y}),a.d(t,"m",function(){return I}),a.d(t,"c",function(){return R}),a.d(t,"g",function(){return A}),a.d(t,"f",function(){}),a.d(t,"o",function(){}),a.d(t,"A",function(){return _}),a.d(t,"s",function(){return L}),a.d(t,"v",function(){return B}),a.d(t,"u",function(){}),a.d(t,"E",function(){})},7222:function(e,t,a){"use strict";var n=a(16),r=a(7),o=a(7211),i={data:null,prod_att_cat_items:null,att_cat_values:null,toggleDialog:!1},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.k:return Object(r.a)({},e,{prod_att_cat_items:t.payload});case o.l:return Object(r.a)({},e,{att_cat_values:t.payload});case o.a:return Object(r.a)({},e);case o.b:case o.f:case o.o:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});default:return e}},l=a(43),s={data:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.g:return Object(r.a)({},e,{categories:t.payload});case o.n:return Object(r.a)({},e,{productData:t.payload});case o.d:case o.e:case o.p:case o.h:case o.i:case o.j:return Object(r.a)({},e);default:return e}},d={data:null,categories:null,allTags:null,offersData:null,toggleDialog:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.g:return Object(r.a)({},e,{categories:t.payload});case l.l:return Object(r.a)({},e,{allTags:t.payload});case o.m:return Object(r.a)({},e,{offersData:t.payload});case o.c:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});case o.g:return Object(r.a)({},e);case o.o:case o.f:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});default:return e}},p=Object(n.d)({attribute:c,product:u,offer:m});t.a=p},7230:function(e,t,a){},7232:function(e,t,a){"use strict";var n=a(9),r=a(10),o=a(12),i=a(11),c=a(13),l=a(0),s=a.n(l),u=a(7239),d=a.n(u),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleEditorChange=function(e){a.props.handleEditorChange(e)},a.state={editorHtml:"",theme:"snow",canSubmit:!0},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mb-16"},s.a.createElement(d.a,{style:{boxShadow:"none"},theme:this.state.theme,onChange:this.handleEditorChange,value:this.state.editorHtml||"",modules:t.modules,formats:t.formats,placeholder:"Write Description..."}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return console.log("Html :: "+e.editorHtml),{editorHtml:e.editorHtml}}}]),t}(l.Component);t.a=m,m.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},m.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"]},7372:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),o=a(12),i=a(11),c=a(202),l=a(13),s=a(122),u=a(0),d=a.n(u),m=a(1),p=a(75),g=a(5),h=a(4),f=a.n(h),b=a(7241),E=a.n(b),v=a(121),S=a.n(v),y=a(289),O=a.n(y),k=(a(246),a(21)),D=a(25),C=(a(288),a(7230),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).stockStatusFormatter=function(e,t,n){if("is_varient"===t.Type)return 1===parseInt(t["Stock Status"])?d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.props.changeStockStatus(e,t,n)},icon:"delete",labelposition:"center"},d.a.createElement(m.E,{className:"text-green text-20"},"check_circle")):d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.props.changeStockStatus(e,t,n)},icon:"delete",labelposition:"center"},d.a.createElement(m.E,{className:"text-red text-20"},"remove_circle"))},a.editFormatter=function(e,t,n,r){return d.a.createElement(m.d,{bsSize:"small",className:"btn-custom",onClick:function(){return a.props.handleOpenChildEdit(t)},icon:"edit",labelPosition:"center"},d.a.createElement(m.E,{className:"mr-4 text-20"},"edit"))},a.deleteFormatter=function(e,t,n,r){return d.a.createElement(m.d,{bsSize:"small",className:"btn-custom",onClick:function(){return a.onClickProductDeleted(e,t,n)},icon:"delete",labelPosition:"center"},d.a.createElement(m.E,{className:"mr-4 text-20"},"delete"))},a.columns=[{dataField:"Id",text:"Product ID",isKey:!0,editable:!1},{dataField:"Name",text:"Product Name"},{dataField:"SKU",text:"SKU"},{dataField:"Image",text:"Image",formatter:a.imageFormatter,align:"center",headerStyle:function(e,t){return{width:"150px"}}},{dataField:"Price",text:"Price",formatter:a.priceFormatter},{dataField:"Type",text:"Type"},{dataField:"Stock Status",text:"Stock Status",formatter:a.stockStatusFormatter},{dataField:"",text:"Edit",formatter:a.editFormatter,isDummyField:!0,editable:!1}],a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"imageFormatter",value:function(e,t){var a=Object.keys(e.split(",")).length>0?"".concat(D.a).concat(e.split(",")[0]):"".concat(D.a).concat(e);return d.a.createElement("img",{style:{width:"30%",margin:"0px",textAlign:"center"},src:a,alt:""})}},{key:"priceFormatter",value:function(e,t){return"Rs. ".concat(e)}},{key:"render",value:function(){return Object.keys(this.props.productData).length>=1?d.a.createElement("div",{style:{padding:"20px",background:"white"}},d.a.createElement(S.a,{stripped:!1,condensed:!0,keyField:"Id",data:this.props.productData,columns:this.columns,overflow:"scroll"})):d.a.createElement("p",{style:{display:"flex",justifyContent:"center",textAlign:"center"}},"No Variants Found for this product")}}]),t}(u.Component)),x=a(7242),T=a.n(x),P=a(565),j=a.n(P),N=a(66),w=a(19),F=a(16),I=a(7222),R=a(7211),A=a(243),_=a(133),U=a.n(_),L=a(204),B=a(67),z=a(49),G=a.n(z),V=a(7232),H=a(153),W=a.n(H),M=a(249),q=a.n(M);function K(e){return d.a.createElement(m.Z,Object.assign({direction:"up"},e))}var J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).populateProductTags=function(){var e=Object(L.a)(U.a.mark(function e(t){var n,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.Tags&&Object.keys(t.Tags.split(",")).length>0&&t.Tags.split(",").map(function(e){return{value:e,label:e}}),r=t.Tags&&Object.keys(t.Tags.split(",")).length>0?t.Tags.split(",").map(function(e){return e}):"",console.log("Pro Tag Values :: "+r),a.setState({selectedTags:n,selectedTagValues:r});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.disableButton=function(){a.setState({canUpdateCollection:!1})},a.enableButton=function(){a.setState({canUpdateCollection:!0})},a.onSubmitUpdateCollection=function(){},a.handleClose=function(){a.setState({image:"",selectedTags:[],selectedTagValues:0},function(){a.props.handleClose()})},a.handleGetSlug=function(e){var t=q()(e.target.value).toLowerCase(),n=a.state.product&&a.state.product;n.Slug=t,a.setState({slug:t,product:n},function(){console.log("Slug :: "+a.state.product.Slug)})},a.handleimagechange=function(e){var t=[],n=[];if(e.target.files&&Object.keys(e.target.files).length>0){for(var r=0,o=Object.entries(e.target.files);r<o.length;r++){var i=o[r],c=Object(A.a)(i,2),l=(c[0],c[1]);console.log("Values :: "+l),n.push(l),t.push(URL.createObjectURL(l))}a.setState({image:n,imgResult:t})}},a.handleStockChange=function(e){console.log("Stock status :: "+e.target.value);var t=a.state.product&&a.state.product;t["Stock Status"]=e.target.value,a.setState({product:t})},a.handleTagChange=function(e){var t=[];Object.keys(e).length>0&&e.map(function(e){return t.push(e.value)}),(a.state.product&&a.state.product).Tags=t.join(","),a.setState({selectedTags:e,selectedTagValues:t})},a.handleChange=function(e){var t=a.state.product&&a.state.product;switch(e.target.name){case"name":t.Name=e.target.value;break;case"sale_price":t["Sale Price"]=e.target.value;break;case"reg_price":t.Price=e.target.value;break;case"stock":t.Stock=e.target.value;break;case"stock_status":console.log("Stock status :: "+e.target.value),t["Stock Status"]=e.target.value;break;case"weight":t.Weight=e.target.value;break;case"length":var n=t.Dimensions.toLowerCase().split("x");n.splice(0,1);var r=[];r[0]=e.target.value,r[1]=n[0],r[2]=n[1],t.Dimensions=r.join("x");break;case"width":var o=t.Dimensions.toLowerCase().split("x");o.splice(1,1);var i=[];i[1]=e.target.value,i[0]=o[0],i[2]=o[1],t.Dimensions=i.join("x");break;case"height":var c=t.Dimensions.toLowerCase().split("x");c.splice(2,1);var l=[];l[2]=e.target.value,l[0]=c[0],l[1]=c[1],t.Dimensions=l.join("x")}a.setState({product:t})},a.handleEditorChange=function(e){var t=a.state.product&&a.state.product;t.Description=e,a.setState({product:t})},a.handleCloseAlert=function(){a.setState({deleteOpen:!1})},a.handleOpenAlert=function(e){a.setState({deleteOpen:!0,imageToDelete:e})},a.handleDecision=function(e){a.setState({isConfirmed:e,deleteOpen:!1},function(){a.state.isConfirmed&&a.handleDeleteImage()})},a.handleDeleteImage=function(){if(a.state.product&&a.state.product.Image){var e=a.state.product.Image.split(","),t=W.a.findIndex(e,function(e){return a.state.imageToDelete===e});if(t>=0)if(e.splice(t,1),Object.keys(e).length>0){var n=new FormData;n.append("id",a.state.product.Id),n.append("image_str",e.join(",")),a.props.removeProductImage(n),a.setState({imageToDelete:""},function(){setTimeout(function(){a.props.handleClose()},1e3)})}else alert("You cannot delete Primary Image")}},a.handleUpdateProduct=function(){var e=a.state.product&&a.state.product,t=new FormData;t.append("id",e.Id),t.append("name",e.Name),t.append("slug",e.Slug),t.append("sale_price",e["Sale Price"]||0),t.append("reg_price",e.Price),t.append("stock",e.Stock),t.append("stock_status",e["Stock Status"]),t.append("weight",e.Weight||0),t.append("dimensions",e.Dimensions||0),t.append("description",e.Description),t.append("str_image",e.Image),a.state.image&&Array.from(a.state.image).forEach(function(e){t.append("image",e)}),a.props.updateSimpleProduct(t),a.handleClose()},a.state={toggleSimpleEdit:!1,canUpdateCollection:!1,deleteOpen:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.toggleSimpleEdit!==this.props.toggleSimpleEdit&&!1!==this.props.toggleSimpleEdit&&(console.log("Hello CDU"),this.props.product&&this.props.product.Tags&&"0"!==this.props.product.Tags&&this.populateProductTags(this.props.product))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=a.canUpdateCollection,r=a.deleteOpen;return d.a.createElement(d.a.Fragment,null,d.a.createElement(m.o,{open:this.state.toggleSimpleEdit,onClose:this.handleClose,TransitionComponent:K,fullWidth:!0,maxWidth:"md",keepMounted:!0,"aria-labelledby":"customized-dialog-title"},d.a.createElement(m.s,{id:"form-dialog-title"},d.a.createElement(m.B,{direction:"row",container:!0,xs:12,alignItems:"center"},d.a.createElement(m.B,{item:!0},d.a.createElement(m.ib,{variant:"h6"},this.state.product&&this.state.product.Name)),this.state.product&&this.state.product.Image?this.state.product.Image.split(",").map(function(a){return d.a.createElement(m.B,{item:!0},d.a.createElement(m.c,{color:"error",badgeContent:d.a.createElement(B.o,{className:t.deleteIcon}),anchorOrigin:{horizontal:"right",vertical:"bottom"},className:t.margin,onClick:function(){e.handleOpenAlert(a)}},d.a.createElement(m.b,{alt:"Remy Sharp",src:D.a+a,className:t.avatar})))}):"")),d.a.createElement(m.t,{className:" mb-4"}),d.a.createElement(m.q,null,d.a.createElement(m.ib,{className:"h2 mb-24"}),d.a.createElement(G.a,{onValidSubmit:this.handleUpdateProduct,onValid:this.enableButton,onInvalid:this.disableButton,ref:function(t){return e.form=t},className:"flex flex-col justify-center"},d.a.createElement(g.w,{className:"mb-16",type:"text",name:"name",value:this.state.product&&this.state.product.Name?this.state.product.Name:"",onChange:this.handleChange,onBlur:this.handleGetSlug,label:"Product Name",validations:{minLength:4},variant:"outlined",validationErrors:{minLength:"Min character length is 4"},required:!0}),d.a.createElement(g.w,{className:"mb-16",type:"slug",name:"slug",value:this.state.product&&this.state.product.Slug,disabled:!0,label:"Slug",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},required:!0,variant:"outlined"}),d.a.createElement(V.a,{handleEditorChange:this.handleEditorChange,editorHtml:this.state.product&&(this.state.product.Description||"")}),d.a.createElement("div",{className:"flex"},d.a.createElement(g.w,{className:"flex-1 mb-16 mr-4",type:"number",onChange:this.handleChange,value:this.state.product&&this.state.product["Sale Price"],name:"sale_price",label:"Sale Price",variant:"outlined"}),d.a.createElement(g.w,{className:"flex-1 mb-16",type:"number",onChange:this.handleChange,value:this.state.product&&this.state.product.Price,name:"reg_price",label:"Regular Price",validations:this.state.product&&this.state.product.Price?{}:{minLength:1},validationErrors:{minLength:"Min character length is 1"},required:!0,variant:"outlined"})),d.a.createElement("div",{className:"flex"},d.a.createElement(g.w,{className:"flex-1 mb-16 mr-4",type:"number",onChange:this.handleChange,value:this.state.product&&this.state.product.Stock,name:"stock",label:"Stock",validations:this.state.product&&this.state.product.Stock?{}:{minLength:1},validationErrors:{minLength:"Min character length is 1"},required:!0,variant:"outlined"}),d.a.createElement(g.v,{className:"flex-1 mb-16",name:"stock_status",label:"Stock Status",onChange:this.handleStockChange,value:this.state.product?this.state.product["Stock Status"]:"none",variant:"outlined"},d.a.createElement(m.R,{value:1},"In Stock"),d.a.createElement(m.R,{value:0},"Out of Stock"))),d.a.createElement("div",{className:"flex"},d.a.createElement(g.w,{className:"mb-16 mr-4",type:"number",onChange:this.handleChange,value:this.state.product&&this.state.product.Weight,name:"weight",label:"Weight (grams)",variant:"outlined"}),d.a.createElement(g.w,{className:"mb-16 mr-4",type:"number",onChange:this.handleChange,value:this.state.product&&Object.keys(this.state.product.Dimensions).length>0?this.state.product.Dimensions.toLowerCase().split("x")[0]:this.state.length,name:"length",label:"Length",variant:"outlined"}),d.a.createElement(g.w,{className:"mb-16 mx-8 mr-4",type:"number",onChange:this.handleChange,value:this.state.product&&Object.keys(this.state.product.Dimensions).length>0?this.state.product.Dimensions.toLowerCase().split("x")[1]:0,name:"width",label:"Width",variant:"outlined"}),d.a.createElement(g.w,{className:"mb-16 ",type:"number",onChange:this.handleChange,value:this.state.product&&Object.keys(this.state.product.Dimensions).length>0?this.state.product.Dimensions.toLowerCase().split("x")[2]:0,name:"height",label:"Height",variant:"outlined"})),d.a.createElement("div",{className:"upload-btn-wrapper"},d.a.createElement(m.B,{direction:"row",alignItems:"center",container:!0},d.a.createElement(m.B,{item:!0},d.a.createElement("button",{className:"btn1"},"Upload a image"),d.a.createElement("input",{onChange:this.handleimagechange,type:"file",name:"image",multiple:!0})),this.state.imgResult&&this.state.imgResult.map(function(e){return d.a.createElement(m.B,{item:!0},d.a.createElement(m.b,{alt:"Remy Sharp",src:e,className:t.avatar}))}))),d.a.createElement(m.d,{type:"submit",variant:"contained",color:"primary",className:"mx-auto my-16","aria-label":"LOG IN",disabled:!n},"UPDATE PRODUCT")))),d.a.createElement(m.o,{open:r,onClose:this.handleCloseAlert,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},d.a.createElement(m.s,{id:"alert-dialog-title"},"Are you sure to delete Image ?"),d.a.createElement(m.q,null,d.a.createElement(m.r,{id:"alert-dialog-description"},d.a.createElement(m.e,{className:t.card},d.a.createElement(m.f,null,d.a.createElement(m.j,{className:t.media,image:D.a+this.state.imageToDelete,title:"Product image to delete"}))))),d.a.createElement(m.p,null,d.a.createElement(m.d,{onClick:function(){e.handleDecision(!1)},color:"primary"},"Disagree"),d.a.createElement(m.d,{onClick:function(){e.handleDecision(!0)},color:"primary",autoFocus:!0},"Agree"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.product&&console.log("SALE PRICE  :: "+e.product.Price),{product:e.product,toggleSimpleEdit:e.toggleSimpleEdit}}}]),t}(u.Component),Y=Object(N.a)("editSimpleProduct",I.a)(Object(w.a)(null,function(e){return Object(F.c)({updateSimpleProduct:R.G,removeProductImage:R.F},e)})(Object(p.withStyles)(function(e){return{root:{margin:0,padding:e.spacing.unit},closeButton:{position:"absolute",right:1*e.spacing.unit,top:1*e.spacing.unit,color:e.palette.grey[500]},titleIcon:{display:"inline-flex",alignItems:"center"},close:{padding:e.spacing.unit/2},avatar:{marginBottom:10,marginLeft:10},deleteIcon:{width:15},bigAvatar:{margin:10,width:60,height:60},card:{maxWidth:500,minWidth:345},media:{height:200}}})(J))),Z=function(e){var t=e.options,a=e.currSizePerPage,n=e.onSizePerPageChange;return d.a.createElement("div",{className:"btn-group",role:"group"},t.map(function(e){var t=a==="".concat(e.page);return d.a.createElement("button",{key:e.text,type:"button",onClick:function(){return n(e.page)},className:"btn ".concat(t?"btn-secondary":"btn-warning")},e.text)}))},Q=function(e){var t=e.classes,a=(e.variant,e.inputRef),n=void 0===a?function(){}:a,r=Object(s.a)(e,["classes","variant","inputRef"]);return d.a.createElement(d.a.Fragment,null,d.a.createElement(m.fb,Object.assign({fullWidth:!0,InputProps:{inputRef:function(e){n(e)},classes:{input:f()(t.input,"py-0 px-16 h-48 pr-48"),notchedOutline:"rounded-8"}},placeholder:"Type to search the product",onChange:function(t){e.onSearch(t.target.value)},variant:"outlined"},r)),d.a.createElement(m.E,{className:"absolute pin-t pin-r h-48 w-48 p-12 pointer-events-none",color:"action"},"search"))},X=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleClose=function(){a.setState({toggleSimpleEdit:!1})},a.editFormatter=function(e,t,n,r){return"varient"===t.Type?null:d.a.createElement(m.d,{bsSize:"small",className:"btn-custom",onClick:function(){return a.setState({toggleSimpleEdit:!0,product:t},function(){console.log("issToggle :: "+a.state.toggleSimpleEdit)})},icon:"edit",labelPosition:"center"},d.a.createElement(m.E,{className:"mr-4 text-20"},"edit"))},a.handleOpenChildEdit=function(e){a.setState({toggleSimpleEdit:!0,product:e})},a.deleteFormatter=function(e,t,n,r){return 0===t.is_deleted?d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.onClickProductDeleted(e,t,n)},icon:"delete",labelposition:"center"},d.a.createElement(m.E,{className:"mr-4 text-20"},"delete")):d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.onClickProductDeleted(e,t,n)},icon:"undo",labelposition:"center"},d.a.createElement(m.E,{className:"mr-4 text-20"},"undo"))},a.changeStockStatus=function(e,t,n){var r=t.Id,o=parseInt(t["Stock Status"]);1===o?o=0:0===o&&(o=1);var i=new FormData;i.append("pro_id",r),i.append("stock_status",o),a.props.updateStockStatus(i)},a.stockStatusFormatter=function(e,t,n){if(console.log("Hellooo :: "+t.Id+", Type :: "+t.Type),"simple"===t.Type)return 1===parseInt(t["Stock Status"])?d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.changeStockStatus(e,t,n)},icon:"delete",labelposition:"center"},d.a.createElement(m.E,{className:"text-green text-20"},"check_circle")):d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.changeStockStatus(e,t,n)},icon:"delete",labelposition:"center"},d.a.createElement(m.E,{className:"text-red text-20"},"remove_circle"))},a.linkFormatter=function(e,t,n){return parseInt(t.d_link_id)>0?d.a.createElement(m.hb,{title:"Link generated","aria-label":"link",placement:"top"},d.a.createElement(m.d,{bssize:"small",className:"btn-custom",icon:"delete",labelposition:"center"},d.a.createElement(m.E,{className:"text-green text-20"},"check_circle"))):d.a.createElement(m.hb,{title:"Generate Link","aria-label":"link",placement:"top"},d.a.createElement(m.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.props.generateProductDynamicLink(t.Id,t.Slug)},icon:"link",labelposition:"center"},d.a.createElement(m.E,{className:"text-black text-22"},"link")))},a.columns=[{dataField:"Id",text:"Product ID",isKey:!0,editable:!1,sort:!0,sortFunc:function(e,t,a,n,r,o){return"asc"===a?t-e:e-t}},{dataField:"Name",text:"Product Name"},{dataField:"SKU",text:"SKU"},{dataField:"Image",text:"Image",formatter:a.imageFormatter,align:"center",headerStyle:function(e,t){return{width:"150px"}}},{dataField:"Price",text:"Price",formatter:a.priceFormatter,sort:!0,headerTitle:!0,sortFunc:function(e,t,a,n,r,o){return"asc"===a?t-e:e-t}},{dataField:"Type",text:"Type"},{dataField:"cat_name",hidden:!0},{dataField:"Stock Status",text:"Stock Status",formatter:a.stockStatusFormatter},{dataField:"",text:"Edit",formatter:a.editFormatter,isDummyField:!0,editable:!0},{dataField:"",text:"D Links ",formatter:a.linkFormatter,isDummyField:!0,editable:!0},{dataField:"",text:"Action",formatter:a.deleteFormatter,isDummyField:!0,editable:!1}],a.expandRow={renderer:function(e){return d.a.createElement(C,{handleOpenChildEdit:a.handleOpenChildEdit,productData:e.Varients,changeStockStatus:a.changeStockStatus})},showExpandColumn:!1,expandHeaderColumnRenderer:function(e){return e.isAnyExpands?d.a.createElement("b",null,"-"):d.a.createElement("b",null,"+")},expandColumnRenderer:function(e){return e.expanded?d.a.createElement("b",null,"-"):d.a.createElement("b",null,"...")}},a.state={productData:[],toggleSimpleEdit:!1},a.updatelist=a.updatelist.bind(Object(c.a)(a)),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getProducts()}},{key:"updatelist",value:function(){var e=this,t=localStorage.getItem("jwtToken");fetch(D.a+"/api/admin/slider",{headers:{Authorization:"Bearer "+t}}).then(function(e){return e.json()}).then(function(t){!0===t.status?e.setState({sliderdata:t.data}):alert("Could not fetch data")}).catch(function(e){return console.log("error ==> "+e)})}},{key:"onClickProductDeleted",value:function(e,t,a){var n=t.Id,r=t.is_deleted;if(0===r){if(r=1,confirm("Are you sure you want to Delete <b>".concat(t.Name,"</b> ? "))){var o=new FormData;o.append("pro_id",n),o.append("delete_status",r),this.props.deleteProduct(o)}}else if(r=0,confirm("Are you sure you want to Undo <b>".concat(t.Name,"</b> ? "))){var i=new FormData;i.append("pro_id",n),i.append("delete_status",r),this.props.deleteProduct(i)}}},{key:"priceFormatter",value:function(e,t){return"Rs. ".concat(e)}},{key:"changevariantstatus",value:function(e,t,a){var n=this,r=t.slider_id,o=t.slider_status;1===o?o=0:0===o&&(o=1);var i=new FormData;i.append("id",r),i.append("status",o);var c=localStorage.getItem("jwtToken");fetch(D.a+"/api/admin/slider/updateStatus",{method:"POST",headers:{Authorization:"Bearer "+c},body:i}).then(function(e){return e.json()}).then(function(e){!0===e.status?n.updatelist():alert("Validity not changed")})}},{key:"imageFormatter",value:function(e,t){var a="".concat(D.a).concat(e.split(",")[0]);return d.a.createElement(E.a,{src:[a],loader:d.a.createElement(T.a,{height:60})})}},{key:"render",value:function(){var e=this,t={sizePerPageRenderer:Z};return d.a.createElement(g.m,{header:d.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},d.a.createElement("div",{className:"flex flex-col items-start max-w-full"},d.a.createElement(g.a,{animation:"transition.slideRightIn",delay:300},d.a.createElement(m.ib,{className:"normal-case flex items-center sm:mb-12",component:k.a,role:"button",to:"/apps/dashboards/analytics"},d.a.createElement(m.E,{className:"mr-4 text-20"},"arrow_back"),"Dashboard")),d.a.createElement("div",{className:"flex items-center max-w-full"},d.a.createElement(g.a,{animation:"transition.expandIn",delay:300},d.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/component_icons/view_list_white_24dp.png",alt:"{form.name}"})),d.a.createElement("div",{className:"flex flex-col min-w-0"},d.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},d.a.createElement(m.ib,{className:"text-16 sm:text-20 truncate"},"Products")))))),content:d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"md:flex max-w-3xl sm:p-24"},d.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},d.a.createElement(g.b,{enter:{animation:"transition.slideUpBigIn"}},this.state.productData&&d.a.createElement(g.o,{className:"flex-grow overflow-x-auto"},d.a.createElement(O.a,{keyField:"Id",data:this.state.productData,columns:this.columns,search:!0},function(a){return d.a.createElement("div",{className:"flex flex-col flex-1"},d.a.createElement(Q,Object.assign({className:f()("flex flex-1 items-center w-full",f.a)},e.props,a.searchProps)),d.a.createElement("hr",null),d.a.createElement(S.a,Object.assign({},a.baseProps,{hover:!0,overflow:"scroll",classes:"table-responsive",striped:!0,condensed:!0,expandRow:e.expandRow,pagination:j()(t)})))}))))),d.a.createElement(Y,{product_id:this.state.product_id,product:this.state.product,handleClose:this.handleClose,toggleSimpleEdit:this.state.toggleSimpleEdit}))})}}]),t}(u.Component);X.getDerivedStateFromProps=function(e,t){return{productData:e.productData}};t.default=Object(N.a)("viewProducts",I.a)(Object(p.withStyles)(function(e){return{root:{},input:{transition:e.transitions.create(["background-color"],{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.short}),"&:focus":{backgroundColor:e.palette.background.paper}}}})(Object(w.a)(function(e,t){return{productData:e.viewProducts.product.productData}},function(e,t){return Object(F.c)({getProducts:R.B,deleteProduct:R.w,updateStockStatus:R.H,generateProductDynamicLink:R.x},e)})(X)))}}]);