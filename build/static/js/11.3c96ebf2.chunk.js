(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{7211:function(e,t,a){"use strict";var n=a(31),r="[ATTRIBUTE] GET ATTRIBUTE VALUES",l="[ATTRIBUTE] GET ATTRIBUTE CATEGORIES",c="[ATTRIBUTE] ADD ATTRIBUTE CATEGORY",i="[ATTRIBUTE] ADD ATTRIBUTE VALUES",o="[DIALOG] CLOSE DIALOG",s="[DIALOG] OPEN DIALOG";function u(){return function(e){Object(n.a)("product/attributeCategories","","",1).then(function(t){return e({type:l,payload:t.data})})}}function d(e){var t="product/getAttributeValues?att_id=".concat(e);return function(e){Object(n.a)(t,"","",1).then(function(t){return e({type:r,payload:t.data})})}}function m(e){return function(t){Object(n.a)("product/addAttributeCategory","POST",e).then(function(e){return t(u()),t({type:c,payload:{name:""}})})}}function g(e){return function(t){Object(n.a)("product/addAttributeCatValues","POST",e).then(function(e){return t({type:i,payload:{toggleDialog:!1}})})}}function h(){return function(e){return e({type:s,payload:{toggleDialog:!0}})}}function f(){return function(e){return e({type:o,payload:{toggleDialog:!1}})}}var p=a(43),b="[PRODUCT] GET PRODUCTS",v="[PRODUCT] ADD SIMPLE PRODUCT",_="[PRODUCT] ADD VARIANT PRODUCT",E="[PRODUCT] UPDATE SIMPLE PRODUCT",O="[PRODUCT] UPDATE PRODUCT STATUS",y="[PRODUCT] DELETE PRODUCT",C="[PRODUCT] DELETE PRODUCT IMAGE",S="[PRODUCT] GENERATE DYNAMIC LINK";function T(){return function(e){Object(n.a)("product","","",!0).then(function(t){return console.log("Product Data :: "+JSON.stringify(t.data)),e({type:b,payload:t.data})})}}function j(e){return function(t){Object(n.a)("product/addSimpleProduct","POST",e).then(function(e){return t({type:v})})}}function D(e){return function(t){Object(n.a)("product/updateSimpleProduct","POST",e).then(function(e){return t(T()),t({type:E})})}}function N(e,t){var a=new FormData;a.append("id",e),a.append("type","product"),a.append("slug",t);return function(e){Object(n.a)("/d-links/add","POST",a).then(function(t){e(w()),e({type:S})}).catch(function(t){e({type:S})})}}function k(e){return function(t){Object(n.a)("product/removeProductImage","POST",e).then(function(e){return t(w()),t({type:C})})}}function x(e){return function(t){Object(n.a)("product/updateDeleteStatus","POST",e).then(function(e){return t(w()),t({type:y})})}}function w(){return function(e){Object(n.a)("product","","",!0).then(function(t){return e({type:b,payload:t.data})})}}function P(e){return function(t){Object(n.a)("product/updateStockStatus","POST",e).then(function(e){return t(w()),t({type:O})})}}var A="[OFFER] GET OFFER",R="[OFFER] ADD OFFER",L="[OFFER] DELETE OFFER";function I(){return function(e){Object(n.a)("offers").then(function(t){return e({type:A,payload:t.data})})}}function U(){return function(e){Object(n.a)("offers","","",1).then(function(t){return e({type:A,payload:t.data})})}}function F(e){return function(t){Object(n.a)("offers/add","POST",e).then(function(e){return t(U()),t({type:R,payload:{toggleDialog:!1}})})}}function G(e){var t="offers/delete?offer_id=".concat(e);return function(e){Object(n.a)(t).then(function(t){return e(U()),e({type:L})})}}a.d(t,"l",function(){return r}),a.d(t,"k",function(){return l}),a.d(t,"a",function(){return c}),a.d(t,"b",function(){return i}),a.d(t,"f",function(){return o}),a.d(t,"o",function(){return s}),a.d(t,"y",function(){return u}),a.d(t,"z",function(){return d}),a.d(t,"q",function(){return m}),a.d(t,"r",function(){return g}),a.d(t,"E",function(){return h}),a.d(t,"u",function(){return f}),a.d(t,"D",function(){return p.z}),a.d(t,"n",function(){return b}),a.d(t,"d",function(){return v}),a.d(t,"e",function(){return _}),a.d(t,"p",function(){return O}),a.d(t,"h",function(){return y}),a.d(t,"i",function(){return C}),a.d(t,"j",function(){return S}),a.d(t,"B",function(){return T}),a.d(t,"t",function(){return j}),a.d(t,"G",function(){return D}),a.d(t,"x",function(){return N}),a.d(t,"F",function(){return k}),a.d(t,"w",function(){return x}),a.d(t,"H",function(){return P}),a.d(t,"D",function(){return p.z}),a.d(t,"C",function(){return p.y}),a.d(t,"m",function(){return A}),a.d(t,"c",function(){return R}),a.d(t,"g",function(){return L}),a.d(t,"f",function(){}),a.d(t,"o",function(){}),a.d(t,"A",function(){return I}),a.d(t,"s",function(){return F}),a.d(t,"v",function(){return G}),a.d(t,"u",function(){}),a.d(t,"E",function(){})},7222:function(e,t,a){"use strict";var n=a(16),r=a(7),l=a(7211),c={data:null,prod_att_cat_items:null,att_cat_values:null,toggleDialog:!1},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.k:return Object(r.a)({},e,{prod_att_cat_items:t.payload});case l.l:return Object(r.a)({},e,{att_cat_values:t.payload});case l.a:return Object(r.a)({},e);case l.b:case l.f:case l.o:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});default:return e}},o=a(43),s={data:null},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.g:return Object(r.a)({},e,{categories:t.payload});case l.n:return Object(r.a)({},e,{productData:t.payload});case l.d:case l.e:case l.p:case l.h:case l.i:case l.j:return Object(r.a)({},e);default:return e}},d={data:null,categories:null,allTags:null,offersData:null,toggleDialog:!1},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.g:return Object(r.a)({},e,{categories:t.payload});case o.l:return Object(r.a)({},e,{allTags:t.payload});case l.m:return Object(r.a)({},e,{offersData:t.payload});case l.c:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});case l.g:return Object(r.a)({},e);case l.o:case l.f:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});default:return e}},g=Object(n.d)({attribute:i,product:u,offer:m});t.a=g},7230:function(e,t,a){},7232:function(e,t,a){"use strict";var n=a(9),r=a(10),l=a(12),c=a(11),i=a(13),o=a(0),s=a.n(o),u=a(7239),d=a.n(u),m=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).handleEditorChange=function(e){a.props.handleEditorChange(e)},a.state={editorHtml:"",theme:"snow",canSubmit:!0},a}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mb-16"},s.a.createElement(d.a,{style:{boxShadow:"none"},theme:this.state.theme,onChange:this.handleEditorChange,value:this.state.editorHtml||"",modules:t.modules,formats:t.formats,placeholder:"Write Description..."}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return console.log("Html :: "+e.editorHtml),{editorHtml:e.editorHtml}}}]),t}(o.Component);t.a=m,m.modules={toolbar:[[{header:"1"},{header:"2"},{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["clean"]],clipboard:{matchVisual:!1}},m.formats=["header","font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","video"]},7349:function(e,t,a){"use strict";a.r(t);var n=a(23),r=a(28),l=a(9),c=a(10),i=a(12),o=a(11),s=a(202),u=a(13),d=a(0),m=a.n(d),g=a(1),h=a(75),f=a(5),p=a(49),b=a.n(p),v=a(21),_=a(25),E=(a(7230),a(563)),O=a.n(E),y=a(573),C=a.n(y),S=a(570),T=a.n(S),j=a(59),D=a.n(j),N=a(52),k=a.n(N),x=a(66),w=a(19),P=a(16),A=a(7222),R=a(7211),L=a(249),I=a.n(L),U=a(54),F=a(7232),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).Getall_attribute_categories=function(){var e=localStorage.getItem("jwtToken");fetch(_.a+"/api/admin/product/attributeCategories",{headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){!0===e.status?a.setState({attributeCategories:e.data}):U.b.call(Object(s.a)(a),e.msg,"error")}).catch(function(e){U.b.call(Object(s.a)(a),"Error communicating with server \n"+e.msg,"error")})},a.get_attribute_cat_values=function(e){var t=localStorage.getItem("jwtToken");fetch(_.a+"/api/admin/product/getAttributeValues?att_id="+e,{headers:{Authorization:"Bearer "+t}}).then(function(e){return e.json()}).then(function(t){if(!0===t.status){for(var n=[],l=0;l<Object.keys(t.data).length;l++)n.push({value:t.data[l].av_id,label:t.data[l].att_value});a.setState(Object(r.a)({},"tags_list".concat(e),n)),U.b.call(Object(s.a)(a),t.msg,"success")}else U.b.call(Object(s.a)(a),t.msg,"error")}).catch(function(e){U.b.call(Object(s.a)(a),"Error communicating with server \n"+e.msg,"error")})},a.addAttributeToCollection=function(e){if(e.preventDefault(),a.state.current_selected_att.att_cat_id){for(var t=0;t<Object.keys(a.state.collapse_collection).length;t++)if(parseInt(a.state.current_selected_att.att_cat_id)===parseInt(a.state.collapse_collection[t].att_cat_id))return void console.log("Category is already Added. Please select another category");a.get_attribute_cat_values(a.state.current_selected_att.att_cat_id),a.setState({collapse_collection:[].concat(Object(n.a)(a.state.collapse_collection),[a.state.current_selected_att])}),a.get_attribute_cat_values(a.state.current_selected_att.att_cat_id)}else console.log("Please select some Category then you can add Attribute to it")},a.handleChipChange=function(e){return function(t){console.log("Selected Select -> "+JSON.stringify(t)),a.setState(Object(r.a)({},"selectedChipsFor".concat(e),t))}},a.handleremove=function(e){return function(){a.state.collapse_collection.splice(e.index,1),a.setState({collapse_collection:a.state.collapse_collection})}},a.renderAllCollapse=function(){return a.state.collapse_collection.map(function(e,t){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{key:t,className:"inline-flex"},m.a.createElement(O.a,{key:t,className:"mb-12 w-full mr-6 overflow-visible"},m.a.createElement(C.a,null,m.a.createElement(C.a,null,m.a.createElement(g.ib,{className:"text-center text-18 font-800",onClick:function(t){t.preventDefault(),a.setState(Object(r.a)({},"collapse".concat(e.att_cat_id),!a.state["collapse".concat(e.att_cat_id)]))}},"".concat(e.att_cat_name)),m.a.createElement(T.a,{in:!a.state["collapse".concat(e.att_cat_id)]||a.state["collapse".concat(e.att_cat_id)]},m.a.createElement(C.a,null,m.a.createElement(C.a,{className:"pr-md-1 overflow-visible"},m.a.createElement(f.d,{name:"",id:e.att_cat_name,className:"w-full my-16 px-16 overflow-visible",value:a.state["chips".concat(e.att_cat_id)],onChange:a.handleChipChange(e.att_cat_id),placeholder:"Select multiple Tags for ".concat(e.att_cat_name),textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},options:a.state["tags_list".concat(e.att_cat_id)],isMulti:!0}))))))),m.a.createElement(g.d,{className:"mx-auto my-16 h-28 m-0 btn-custom pl-20 ",icon:"delete",onClick:a.handleremove({index:t})},m.a.createElement(g.E,{className:"mr-4 text-20"},"delete"))))})},a.handleEditorChange=function(e){a.setState({editorHtml:e},function(){console.log(a.state.editorHtml)})},a.handleGetSlug=function(e){var t=I()(e.target.value).toLowerCase();a.setState({slug:t})},a.handleimagechange=function(e){a.setState({image:e.target.files[0]})},a.handle_att_categories=function(e){a.setState({current_selected_att:e.target.value})},a.handlelengthchange=function(e){a.setState({Length:e.target.value})},a.handlewidthchange=function(e){a.setState({Width:e.target.value})},a.handleheightchange=function(e){a.setState({Height:e.target.value})},a.handlestockchange=function(e){a.setState({stockstatus:e.target.value})},a.handletextfieldschange=function(e){a.setState(Object(r.a)({},"".concat(e.target.name),e.target.value))},a.handle_category=function(e){a.setState({category_id:e.target.value})},a.disableButton=function(){a.setState({canSubmit:!1})},a.enableButton=function(){a.setState({canSubmit:!0})},a.getAttributeJSON=function(){for(var e=[],t=0;t<Object.keys(a.state.collapse_collection).length;t++)console.log("Current Collapse  --\x3e "+JSON.stringify(a.state.collapse_collection[t].att_cat_id)),a.state["selectedChipsFor".concat(a.state.collapse_collection[t].att_cat_id)].map(function(t){return e.push({att_val_id:t.value,is_varient:0})});return e},a.handleCatChange=function(e){var t=[];Object.keys(e).length>0&&e.map(function(e){return t.push(e.value)}),a.setState({selectedCats:e,selectedCatValues:t})},a.handleTitleChange=function(e){a.setState({title:e.target.value})},a.handledescchange=function(e){a.setState({desc:e.target.value})},a.onSubmit=function(e){console.log(JSON.stringify(a.getAttributeJSON()));var t=[].concat(a.state.Length+"x"+a.state.Width+"x"+a.state.Height);if(a.state.product_tags&&Object.keys(a.state.product_tags).length>0?console.log("tags :: "+a.state.product_tags.join(",")):console.log("tags :: 0 "),!a.state.selectedCatValues.length>0)U.b.call(Object(s.a)(a),"Please select category before adding the product","error");else if(a.state.editorHtml)if(a.state.sku&&a.state.name&&a.state.slug)if(a.state.image){var n=new FormData;n.append("name",a.state.name),n.append("sku",a.state.sku),n.append("slug",a.state.slug),n.append("desc",a.state.editorHtml),n.append("image",a.state.image),n.append("sale_price",a.state.sale_price),n.append("reg_price",a.state.reg_price),n.append("stock",a.state.stock),n.append("stock_status",a.state.stockstatus),a.state.selectedTagValues&&Object.keys(a.state.selectedTagValues).length>0?n.append("seo_tags",a.state.selectedTagValues.join(",")):n.append("seo_tags","0"),n.append("seo_title",a.state.title||""),n.append("seo_desc",a.state.desc||""),n.append("weight",a.state.weight),n.append("dimensions",t),n.append("cat_id",a.state.selectedCatValues.join(",")),n.append("attributeArray",JSON.stringify(a.getAttributeJSON())),console.log("FormBody ==> "+n),a.props.addSimpleProduct(n),a.form.reset(),a.setState({current_selected_att:{},collapse_collection:[],stockstatus:""})}else U.b.call(Object(s.a)(a),"Feature Image is required","error");else U.b.call(Object(s.a)(a),"Product name or Product SKU is missing","error");else U.b.call(Object(s.a)(a),"Please add some text in the decsription of the product","error")},a.state={image:"",collapse:!1,categories:[],attributeCategories:[],current_selected_att:{},collapse_collection:[],Length:1,Width:1,Height:1,weight:1,sale_price:0,stockstatus:"",canSubmit:!1,form:null,product_tags:[]},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.Getall_attribute_categories(),this.props.getUpdatedCategory()}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.categories?this.state.categories.map(function(e){return{value:e.cat_id,label:e.cat_id+"-"+e.cat_name+"  "+("No Parent"!==e.parent_category?"(".concat(e.parent_category,")"):"")}}):[{value:"",label:""}];return m.a.createElement(m.a.Fragment,null,m.a.createElement(f.m,{header:m.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},m.a.createElement("div",{className:"flex flex-col items-start max-w-full"},m.a.createElement(f.a,{animation:"transition.slideRightIn",delay:300},m.a.createElement(g.ib,{className:"normal-case flex items-center sm:mb-12",component:v.a,role:"button",to:"/apps/dashboards/analytics"},m.a.createElement(g.E,{className:"mr-4 text-20"},"arrow_back"),"Dashboard")),m.a.createElement("div",{className:"flex items-center max-w-full"},m.a.createElement(f.a,{animation:"transition.expandIn",delay:300},m.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/ecommerce/product-image-placeholder.png",alt:"{form.name}"})),m.a.createElement("div",{className:"flex flex-col min-w-0"},m.a.createElement(f.a,{animation:"transition.slideLeftIn",delay:300},m.a.createElement(g.ib,{className:"text-16 sm:text-20 truncate"},"Add Simple Product")))))),content:m.a.createElement("div",{className:" m-auto flex flex-col p-20 max-w-md"},m.a.createElement(g.ib,{className:"h2 mb-24"},"Simple Product"),m.a.createElement(b.a,{onValidSubmit:this.onSubmit,onValid:this.enableButton,onInvalid:this.disableButton,ref:function(t){return e.form=t},className:"flex flex-col justify-center"},m.a.createElement(f.w,{type:"text",name:"name",onChange:this.handletextfieldschange,onBlur:this.handleGetSlug,label:"Product Name",validations:{minLength:4},variant:"outlined",validationErrors:{minLength:"Min character length is 4"},required:!0}),m.a.createElement(f.w,{className:"my-12",type:"text",onChange:this.handletextfieldschange,name:"sku",label:"SKU",required:!0,variant:"outlined"}),m.a.createElement(f.w,{className:"mb-16",type:"slug",name:"slug",value:this.state.slug,disabled:!0,label:"Slug",validations:{minLength:4},validationErrors:{minLength:"Min character length is 4"},required:!0,variant:"outlined"}),m.a.createElement(F.a,{handleEditorChange:this.handleEditorChange,editorHtml:this.state.editorHtml}),m.a.createElement("div",{className:"flex"},m.a.createElement(f.w,{className:"flex-1 mb-16",type:"number",onChange:this.handletextfieldschange,name:"sale_price",label:"Sale Price",value:this.state.sale_price,variant:"outlined"}),m.a.createElement(f.w,{className:"flex-1 mb-16",type:"number",onChange:this.handletextfieldschange,name:"reg_price",label:"Regular Price",validations:{minLength:1},validationErrors:{minLength:"Min character length is 1"},required:!0,variant:"outlined"})),m.a.createElement("div",{className:"flex"},m.a.createElement(f.w,{className:"flex-1 mb-16",type:"number",onChange:this.handletextfieldschange,name:"stock",label:"Stock",validations:{minLength:1},validationErrors:{minLength:"Min character length is 1"},required:!0,variant:"outlined"}),m.a.createElement(f.v,{className:"flex-1 mb-4",name:"stock_status",label:"Stock Status",value:"none",onChange:this.handlestockchange,variant:"outlined"},m.a.createElement(g.R,{value:"1"},"In Stock"),m.a.createElement(g.R,{value:"2"},"Out of Stock"))),m.a.createElement(f.w,{className:"mb-16",type:"number",onChange:this.handletextfieldschange,name:"weight",label:"Weight (grams)",value:this.state.weight,variant:"outlined"}),m.a.createElement("div",{className:"flex"},m.a.createElement(f.w,{className:"mb-16",type:"number",onChange:this.handlelengthchange,name:"dimensions",label:"Length",value:this.state.Length,variant:"outlined"}),m.a.createElement(f.w,{className:"mb-16 mx-8",type:"number",onChange:this.handlewidthchange,name:"dimensions",label:"Width",value:this.state.Width,variant:"outlined"}),m.a.createElement(f.w,{className:"mb-16 ",type:"number",onChange:this.handleheightchange,name:"dimensions",label:"Height",value:this.state.Height,variant:"outlined"})),m.a.createElement(f.d,{className:"mb-16",name:"multi_categories",onChange:this.handleCatChange,value:this.state.selectedCats,placeholder:"Select Category",textFieldProps:{label:"Category",InputLabelProps:{shrink:!0},variant:"outlined"},options:a,isMulti:!0}),m.a.createElement("div",{className:"flex"},m.a.createElement(f.v,{className:"mr-6 w-full",name:"attributecategories",label:"Attribute Categories",value:"none",onChange:this.handle_att_categories,variant:"outlined"},this.state.attributeCategories.map(function(e,t){return m.a.createElement(g.R,{key:t,value:e},e.att_cat_name)})),m.a.createElement(g.d,{variant:"contained",color:"primary",className:"mx-auto my-16","aria-label":"LOG IN",onClick:this.addAttributeToCollection},"Add")),this.renderAllCollapse(),m.a.createElement(g.t,{className:"my-16 w-full"}),m.a.createElement(g.ib,{variant:"h6",className:t.title},"SEO Details ::"),m.a.createElement(f.w,{className:"mb-16  my-16",type:"text",name:"Title",value:this.state.title,onChange:this.handleTitleChange,label:"SEO Title",validations:{minLength:1},validationErrors:{minLength:"Min character length is 1"},optional:!0,variant:"outlined"}),m.a.createElement(f.d,{className:"mb-16",name:"seo_tags",onChange:this.handleTagChange,value:this.state.selectedTags,placeholder:"SEO Tags",textFieldProps:{label:"Tags",InputLabelProps:{shrink:!0},variant:"outlined"},isMulti:!0}),m.a.createElement(f.w,{className:"mb-16",type:"text",name:"description",value:this.state.desc,onChange:this.handledescchange,label:"Description",validations:{minLength:1},validationErrors:{minLength:"Min character length is 1"},optional:!0,variant:"outlined"}),m.a.createElement("div",{className:"upload-btn-wrapper"},m.a.createElement("button",{className:"btn1"},"Upload a image"),m.a.createElement("input",{onChange:this.handleimagechange,type:"file",name:"image"})),m.a.createElement(g.d,{type:"submit",variant:"contained",color:"primary",className:"mx-auto my-16","aria-label":"LOG IN"},"Submit")))}),m.a.createElement(U.a,{notificationToggle:this.state.notificationToggle||!1,notificationMsg:this.state.notificationMsg||"",variant:this.state.variant||"success"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{categories:e.categories}}}]),t}(d.Component);t.default=Object(x.a)("simpleProduct",A.a)(Object(h.withStyles)(function(e){return{success:{background:D.a[600]},error:{backgrouns:e.palette.error.dark},info:{backgroundColor:e.palette.primary.dark},warning:{backgroundColor:k.a[700]},close:{padding:e.spacing.unit/2}}})(Object(w.a)(function(e,t){return{categories:e.simpleProduct.product.categories}},function(e,t){return Object(P.c)({addSimpleProduct:R.t,getUpdatedCategory:R.D},e)})(G)))}}]);