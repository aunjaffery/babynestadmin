(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{7213:function(e,t,a){"use strict";var r=a(9),n=a(10),l=a(12),o=a(11),s=a(13),i=a(0),c=a.n(i),d=a(563),m=a.n(d),u=a(291),p=a.n(u),g=a(290),f=a.n(g),h=(a(7226),a(7227)),x=a.n(h),b=a(75),E=a(1),v=a(67),y=a(5),_=a(203),N=a.n(_),C=a(121),O=a.n(C),S=(a(246),a(25)),F=(a(288),function(e){return{root:{margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:1*e.spacing.unit,top:1*e.spacing.unit,color:e.palette.grey[500]},close:{padding:e.spacing.unit/2}}}),k={backgroundColor:"#faad63",fontSize:"18px"},w=Object(b.withStyles)(F)(function(e){var t=e.children,a=e.classes,r=e.onClose;return c.a.createElement(p.a,{disableTypography:!0,className:a.root},c.a.createElement(E.ib,{variant:"h6"},t),r?c.a.createElement(E.F,{"aria-label":"Close",className:a.closeButton,onClick:r},c.a.createElement(N.a,null)):null)}),D=Object(b.withStyles)(function(e){return{root:{padding:2*e.spacing.unit}}})(f.a),P=Object(b.withStyles)(function(e){return{root:{backgroundColor:"white"}}})(m.a);function R(e){return c.a.createElement(E.Z,Object.assign({direction:"up"},e))}var j=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).handleClose=function(){a.props.handleClose()},a.detailColumns=[{dataField:"no",isKey:!0,text:"No",editable:!1,autoValue:!0,hidden:!0,footer:"",footerStyle:k},{dataField:"item_image",text:"Item Image",formatter:a.imageFormatter,headerStyle:function(e,t){return{width:"250px"}},footerAlign:"center",footer:"Total",footerStyle:k},{dataField:"item_name",text:"Item Name",footer:"",footerStyle:k},{dataField:"item_sku",text:"Item Sku",footer:"",footerStyle:k},{dataField:"item_qty",text:"Item Quantity",footer:function(e){return e.reduce(function(e,t){return e+t},0)},footerStyle:k},{dataField:"item_price",text:"Item Price",formatter:a.priceFormatter,footer:"",footerStyle:k},{dataField:"item_total_price",text:"Total Price",formatter:a.priceFormatter,footer:function(e){return"Rs. "+e.reduce(function(e,t){return e+t},0)},footerStyle:k}],a.state={order_detail:null,order_stats:null,toggleDialog:!1},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"imageFormatter",value:function(e,t){console.log("Images :: "+JSON.stringify(t));var a=Object.keys(t.item_image).length>0?"".concat(S.a).concat(t.item_image.split(",")[0]):"";return c.a.createElement("img",{style:{width:"30%",textAlign:"center"},src:a,alt:""})}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,this.state.order_stats&&this.state.order_stats.cust_name&&c.a.createElement(E.o,{open:this.state.toggleDialog,onClose:this.handleClose,TransitionComponent:R,fullWidth:!0,maxWidth:"lg",keepMounted:!0,"aria-labelledby":"customized-dialog-title"},c.a.createElement(w,{id:"customized-dialog-title",onClose:this.handleClose},c.a.createElement(E.ib,{variant:"h5",component:"h2"},"Order Details",c.a.createElement(x.a,{content:function(){return e.componentRef}},c.a.createElement(h.PrintContextConsumer,null,function(e){var t=e.handlePrint;return c.a.createElement("span",{className:"mr-30",onClick:t},c.a.createElement(v.F,{className:"text-l",cursor:"pointer"}))})))),c.a.createElement(E.t,null),c.a.createElement(D,{ref:function(t){return e.componentRef=t}},c.a.createElement(E.B,{container:!0,justify:"space-between",direction:"row",alignItems:"center"},c.a.createElement(E.B,{item:!0,xs:4},c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.D,{className:"mr-2 text-20"}),this.state.order_stats.cust_name),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.E,{className:"mr-2 text-20"}),this.state.order_stats.cust_phone,"verified"===this.state.order_stats.mobile_verified?c.a.createElement(E.E,{className:"ml-2 text-green text-20"},"check_circle"):c.a.createElement(E.E,{className:"ml-2 text-red text-20"},"remove_circle")),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.r,{className:"mr-2 text-20"}),this.state.order_stats.cust_email),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},this.state.order_stats.address&&c.a.createElement(c.a.Fragment,null,c.a.createElement(v.v,{className:"mr-2 text-20"})," Address : House"," ",this.state.order_stats.address.split("^")[0],",",this.state.order_stats.address.split("^")[1],",",this.state.order_stats.address.split("^")[2],","," ",this.state.order_stats.cust_city)),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.G,{className:"mr-1 text-20"}),"Order No. ",this.state.order_stats.order_no),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.m,{className:"mr-1 text-20"}),this.state.order_stats.order_date),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.C,{className:"mr-1 text-20"})," Payment method :"," ","cod"==this.state.order_stats.payment_method?"Cash on delivery":"Online Payment"),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.y,{className:"mr-1 text-20"})," Shipping Charges :"," ",c.a.createElement("span",{className:"text-xl text-primary"},this.state.order_stats.shipping_charges),c.a.createElement(v.M,{className:"ml-2 mr-1 text-20"})," Discount :"," ",c.a.createElement("span",{className:"text-xl text-primary"},this.state.order_stats.discounted_bill)),this.state.misc&&Object.keys(this.state.misc.coupon_applied).length>0&&c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.d,{className:"mr-1 text-20"})," Counpon Applied :"," ",c.a.createElement("span",{className:"ml-1 text-l text-green"},this.state.misc.coupon_applied.cop_code)),c.a.createElement(E.ib,{variant:"body2",color:"textSecondary",component:"p",className:"text-16 mb-3"},c.a.createElement(v.K,{className:"mr-1 text-20"})," ",1===this.state.order_stats.source?"WEB":"MOBILE",c.a.createElement(v.s,{className:"ml-4 text-20"})," Order Count :"," ",c.a.createElement("span",{className:"text-xl text-primary"},this.state.misc&&this.state.misc.OrderCount))),c.a.createElement(E.B,{item:!0,xs:4},c.a.createElement("img",{className:"w-xs  rounded",src:"assets/images/logos/BABYNEST.png",alt:"BABYNEST Boutique"}))),c.a.createElement(E.t,{className:"mb-4"}),c.a.createElement("div",{className:"md:flex"},c.a.createElement(P,{className:"flex flex-col flex-1 p-4"},c.a.createElement(E.B,{container:!0,spacing:24},c.a.createElement(E.B,{item:!0,xs:12,className:"justify-center m-auto"},c.a.createElement(y.b,{enter:{animation:"transition.slideUpBigIn"}},c.a.createElement(O.a,{classes:"table-responsive",striped:!0,condensed:!0,keyField:"no",data:this.state.order_detail,columns:this.detailColumns,hover:!0,overflow:"scroll"})))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{toggleDialog:e.toggleDialog,order_detail:e.order_detail,order_stats:e.order_stats,misc:e.misc}}}]),t}(i.Component);t.a=Object(b.withStyles)(F)(j)},7214:function(e,t,a){"use strict";var r=a(0),n=a.n(r),l=a(75),o=a(564),s=a.n(o),i=a(4),c=a.n(i),d=Object(l.withStyles)(function(e){return{root:{display:"flex",alignItems:"center",flexWrap:"wrap",textAlign:"center",color:"white"}}})(s.a);var m=Object(l.withStyles)(function(e){return{pending:{backgroundColor:"#FF9233"},delivered:{backgroundColor:"#00BD56"},inprocess:{backgroundColor:"#09A2F3"},dispatched:{backgroundColor:"#303840"},cancelled:{backgroundColor:"#FF1E5A"},content:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},margin:{margin:e.spacing.unit}}})(function(e){var t=e.classes,a=e.content,r=e.variant,l=e.className;return n.a.createElement(d,{className:c()(t[r],l),label:a})});t.a=Object(l.withStyles)(function(e){return{margin:{margin:e.spacing.unit}}})(function(e){var t=e.flag;return 0===t?n.a.createElement(m,{content:"pending",variant:"pending"}):1===t?n.a.createElement(m,{content:"delivered",variant:"delivered"}):2===t?n.a.createElement(m,{content:"in process",variant:"inprocess"}):3===t?n.a.createElement(m,{content:"cancelled",variant:"cancelled"}):4===t?n.a.createElement(m,{content:"dispatched",variant:"dispatched"}):void 0})},7297:function(e,t,a){},7375:function(e,t,a){"use strict";a.r(t);a(122);var r=a(9),n=a(10),l=a(12),o=a(11),s=a(13),i=a(0),c=a.n(i),d=a(566),m=a.n(d),u=a(1),p=a(75),g=a(5),f=a(4),h=a.n(f),x=a(121),b=a.n(x),E=a(289),v=a.n(E),y=(a(246),a(21)),_=a(25),N=(a(288),a(66)),C=a(19),O=a(16),S=a(567),F=a(76),k=a(54),w=a(7214),D=a(7280),P=a.n(D),R=(a(7297),function(e){console.log(e);var t=e.value?[new Date(e.value[0]),new Date(e.value[1])]:null;return console.log(t),c.a.createElement("div",null,c.a.createElement(P.a,{onChange:e.handleChange,value:t,className:"date-picker-custom"}))}),j=a(119),I=a.n(j),B=a(7213),A={backgroundColor:"#faad63",fontSize:"18px"},T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(l.a)(this,Object(o.a)(t).call(this,e))).handleClickOpen=function(){a.setState({toggleDialog:!0})},a.handleClose=function(){a.props.closeDialog()},a.handlePageClick=function(e){a.props.getOrders(e.selected*a.state.recordsPerPage,a.state.recordsPerPage),a.setState({currentPage:e.selected})},a.deleteFormatter=function(e,t,r,n){return c.a.createElement(u.d,{bssize:"small",className:"btn-custom",onClick:function(){return a.onClickSliderDeleted(e,t,r)},icon:"delete",labelposition:"center"},c.a.createElement(u.E,{className:"mr-4 text-20"},"delete"))},a.detailFormatter=function(e,t,r,n){return c.a.createElement(u.d,{bssize:"small",className:"btn-custom",onClick:function(){a.onClickSliderDetail(e,t,r)},icon:"dehaze",labelposition:"center"},c.a.createElement(u.E,{className:"mr-4 text-20"},"dehaze"))},a.columns=[{text:"No",editable:!1,autoValue:!0,hidden:!0},{dataField:"order_id",isKey:!0,text:"Order #"},{dataField:"cust_name",text:"Customer Name"},{dataField:"cust_phone",text:"Customer Phone"},{dataField:"mobile_verified",text:"Mobile Verified?",formatter:a.verifiedFormatter,editable:!1},{dataField:"total_bill",text:"Total bill",formatter:a.priceFormatter},{dataField:"order_status",text:"Status",formatter:a.statusFormatter},{dataField:"detail",text:"Order Detail",isDummyField:!0,editable:!1,formatter:a.detailFormatter},{dataField:"delete",text:"Delete",formatter:a.deleteFormatter,isDummyField:!0,editable:!1}],a.detailColumns=[{dataField:"no",text:"No",isKey:!0,editable:!1,autoValue:!0,hidden:!0,footer:"",footerStyle:A},{dataField:"item_image",text:"Item Image",formatter:a.imageFormatter,headerStyle:function(e,t){return{width:"250px"}},footerAlign:"center",footer:"Total",footerStyle:A},{dataField:"item_name",text:"Item Name",footer:"",footerStyle:A},{dataField:"item_sku",text:"Item Sku",footer:"",footerStyle:A},{dataField:"item_qty",text:"Item Quantity",footer:function(e){return e.reduce(function(e,t){return e+t},0)},footerStyle:A},{dataField:"item_price",text:"Item Price",formatter:a.priceFormatter,footer:"",footerStyle:A},{dataField:"item_total_price",text:"Total Price",formatter:a.priceFormatter,footer:function(e){return"Rs. "+e.reduce(function(e,t){return e+t},0)},footerStyle:A}],a.handleDateChange=function(e){if(!e)return a.setState({dateRange:""}),void a.props.getOrders(0,a.state.recordsPerPage);var t=[I()(e[0]).format("YYYY-MM-DD"),I()(e[1]).format("YYYY-MM-DD")];a.setState({dateRange:t}),a.props.getOrders(0,a.state.recordsPerPage,t)},a.handleDownload=function(){a.props.downloadAllOrders(0,a.state.recordsPerPage,a.state.dateRange)},a.handleSearch=function(e){console.log(e,"search"),a.setState({cust_name:e})},a.search=function(e){e.preventDefault(),a.props.getOrders(0,a.state.recordsPerPage,a.state.dateRange,a.state.cust_name)},a.state={totalRev:null,all_ordersdata:[],order_detail:[],order_stats:{},misc:{},image:null,editSuccess:!1,toggleDialog:!1,pageCount:null,recordsPerPage:30,totalRecords:null,currentPage:0,dateRange:"",cust_name:null},a}return Object(s.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.props.getOrders(0,this.state.recordsPerPage)}},{key:"imageFormatter",value:function(e,t){var a="".concat(_.a).concat(t.item_image);return c.a.createElement("img",{style:{width:"30%",textAlign:"center"},src:a,alt:""})}},{key:"statusFormatter",value:function(e,t){var a=t.order_status;return c.a.createElement(w.a,{flag:a})}},{key:"priceFormatter",value:function(e,t){return"Rs. ".concat(e)}},{key:"verifiedFormatter",value:function(e,t){return"unproved"===e?c.a.createElement(u.E,{className:"text-red text-20"},"remove_circle"):c.a.createElement(u.E,{className:"text-green text-20"},"check_circle")}},{key:"onClickSliderDeleted",value:function(e,t,a){var r=t.order_id;this.props.deleteOrder(r,this.state.currentPage*this.state.recordsPerPage,this.state.recordsPerPage)}},{key:"onClickSliderDetail",value:function(e,t,a){var r=t.order_id;this.props.getOrderDetails(r)}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(g.m,{header:c.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},c.a.createElement("div",{className:"flex flex-col items-start max-w-full"},c.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(u.ib,{className:"normal-case flex items-center sm:mb-12",component:y.a,role:"button",to:"/apps/dashboards/analytics"},c.a.createElement(u.E,{className:"mr-4 text-20"},"arrow_back"),"Dashboard")),c.a.createElement("div",{className:"flex items-center max-w-full"},c.a.createElement(g.a,{animation:"transition.expandIn",delay:300},c.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/component_icons/orders_white_24dp.png",alt:"{form.name}"})),c.a.createElement("div",{className:"flex flex-col min-w-0"},c.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(u.ib,{className:"text-16 sm:text-20 truncate"},"All Orders")))))),content:c.a.createElement("div",{className:"md:flex max-w-3xl sm:p-24"},c.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},c.a.createElement(B.a,{handleClose:this.handleClose,order_detail:this.state.order_detail,order_stats:this.state.order_stats,misc:this.state.misc,toggleDialog:this.state.toggleDialog}),c.a.createElement("div",{className:"flex justify-between"},c.a.createElement("div",null,c.a.createElement("p",null,"Total Orders:"," ",c.a.createElement("span",{className:"font-weight-bold"},this.state.totalRecords)),c.a.createElement("p",null,"Total Sale:"," ",c.a.createElement("span",{className:"font-weight-bold"},"PKR. ",this.state.totalRev?this.state.totalRev:0))),c.a.createElement("a",{onClick:this.handleDownload,style:{cursor:"pointer"}},"Download Report")),c.a.createElement(g.b,{enter:{animation:"transition.slideUpBigIn"},className:"mt-4"},this.state.all_ordersdata&&c.a.createElement(v.a,{keyField:"order_id",data:this.state.all_ordersdata,columns:this.columns,search:!0},function(t){return c.a.createElement("div",{className:"flex flex-col flex-1"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement("div",{style:{marginRight:"20px"}},c.a.createElement(R,{handleChange:e.handleDateChange,value:e.state.dateRange})),c.a.createElement("form",{className:"w-100",onSubmit:function(t){return e.search(t)}},c.a.createElement(c.a.Fragment,null,c.a.createElement(u.fb,{fullWidth:!0,InputProps:{classes:{input:h()(h.a.input,"py-0 px-16 h-48 pr-48"),notchedOutline:"rounded-8"}},placeholder:"Type to search the customer",onChange:function(t){return e.handleSearch(t.target.value)},value:e.state.cust_name,variant:"outlined"}),c.a.createElement(u.E,{className:"absolute pin-t pin-r h-48 w-48 p-12 pointer-events-none cursor-pointer",color:"action"},"search")))),c.a.createElement(b.a,Object.assign({},t.baseProps,{classes:"table-responsive mt-4",striped:!0,bootstrap4:!0,borderless:!0,keyField:"order_id",hover:!0,overflow:"scroll",draggable:!1,noDataIndication:"Table is Empty"})))}),this.state.recordsPerPage<=this.state.totalRecords&&this.state.totalRecords&&c.a.createElement(m.a,{previousLabel:"Prev",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:this.state.pageCount,onPageChange:this.handlePageClick,containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))))}),c.a.createElement(k.a,{notificationToggle:this.state.notificationToggle||!1,notificationMsg:this.state.notificationMsg||"",variant:this.state.variant||"success"}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{all_ordersdata:e.all_ordersdata,pageCount:Math.ceil(e.totalRecords/t.recordsPerPage),totalRecords:e.totalRecords,totalRev:e.totalRev,toggleDialog:e.toggleDialog,order_detail:e.order_detail,order_stats:e.order_stats,misc:e.misc}}}]),t}(i.Component);t.default=Object(N.a)("allOrders",S.a)(Object(p.withStyles)({appBar:{position:"fixed"},flex:{flex:1},tableRow:{color:"black"}})(Object(C.a)(function(e){return{all_ordersdata:e.allOrders.orders.all_ordersdata,totalRecords:e.allOrders.orders.totalRecords,totalRev:e.allOrders.orders.totalRev,order_detail:e.allOrders.orders.order_detail,order_stats:e.allOrders.orders.order_stats,misc:e.allOrders.orders.misc,toggleDialog:e.allOrders.orders.toggleDialog}},function(e){return Object(O.c)({getOrders:F.y,downloadAllOrders:F.s,getUpdatedOrders:F.A,deleteOrder:F.r,getOrderDetails:F.x,closeDialog:F.q},e)})(T)))}}]);