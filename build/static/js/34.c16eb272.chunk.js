(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{7372:function(e,t,a){"use strict";a.r(t);var n=a(9),r=a(10),c=a(12),i=a(11),o=a(13),l=a(0),s=a.n(l),u=a(7337),d=a.n(u),m=a(7368),p=a(66),h=a(19),v=a(16),f=a(7),w=a(25),g=a(36),b="[ORDER]  GET_ALL_REVIEWS";function E(e){var t=localStorage.getItem("jwtToken"),a="";return a=e?fetch(w.a+"/api/admin/product-review?product_id=".concat(e),{headers:{Authorization:"Bearer "+t}}):fetch(w.a+"/api/admin/product-review",{headers:{Authorization:"Bearer "+t}}),function(e){return a.then(function(e){return e.json()}).then(function(t){console.log(t,"DATA"),!0===t.status&&e({type:b,payload:t.data})}).catch(function(e){throw e})}}function j(e,t){var a=localStorage.getItem("jwtToken"),n=fetch(w.a+"/api/admin/product-review/".concat(e),{headers:{Authorization:"Bearer "+a},method:"delete"});return function(e){return n.then(function(e){return e.json()}).then(function(t){console.log(t,"DATA"),!0===t.status&&(e(E()),e(Object(g.A)({message:"Deleted successfully",variant:"success"})))}).catch(function(e){throw e})}}var O={data:null,loading:!1,error:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(f.a)({},e,{data:t.payload});default:return e}},N=Object(v.d)({reviews:A}),y=a(942),R=a.n(y),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(i.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault()},a.componentDidMount=function(){a.props.getAllReviews(null)},a.handleSubmit=function(e){e.preventDefault(),a.props.getAllReviews(e.target.pro_id.value)},a.handleDelete=function(e){a.props.deleteReview(e.review_id,e.product_id)},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.reviews),s.a.createElement("div",{class:"container mt-4"},s.a.createElement(m.a,{onSubmit:this.handleSubmit},s.a.createElement(m.a.Group,{controlId:"formBasicEmail"},s.a.createElement(m.a.Label,null,"Enter Product Id"),s.a.createElement(m.a.Control,{name:"pro_id",type:"text"}))),s.a.createElement("div",{className:"mt-4"},this.props.reviews&&this.props.reviews.data?this.props.reviews.data.map(function(t){return s.a.createElement("div",{className:"bg-white p-4 mt-4"},s.a.createElement("div",{className:"product-link"},s.a.createElement("div",{className:"d-flex mb-4 align-items-start"},s.a.createElement("div",{className:"d-flex justify-content-center",style:{height:"60px",width:"60px"}},s.a.createElement("img",{src:"".concat(w.a,"/").concat(t.product_featured_image),style:{maxWidht:"100%",maxHeight:"100%"},className:"mr-4"})),s.a.createElement("div",null,s.a.createElement("p",{className:"mb-0 font-weight-bold cursor-pointer"},t.product_name),s.a.createElement("p",{className:"mb-0"},"SKU: ",t.product_sku)))),s.a.createElement("div",{className:"flex justify-between"},s.a.createElement("div",null,s.a.createElement("p",{className:"font-weight-bold"},t.title),s.a.createElement("p",null,t.review),s.a.createElement(d.a,{className:"mt-2",rating:t.rating,starRatedColor:"golden",numberOfStars:5,name:"rating",starDimension:"20px"})),s.a.createElement(R.a,{className:"cursor-pointer",onClick:function(a){return e.handleDelete(t)}})))}):null))}}]),t}(s.a.Component);t.default=Object(p.a)("Reviews",N)(Object(h.a)(function(e){return console.log(e,"state"),{reviews:e.Reviews.reviews}},function(e){return Object(v.c)({getAllReviews:E,deleteReview:j},e)})(_))}}]);