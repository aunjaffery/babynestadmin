(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{7371:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(10),o=n(12),i=n(11),c=n(13),l=n(0),s=n.n(l),u=n(7337),d=n.n(u),p=n(7367),m=n(66),v=n(19),f=n(16),h=n(7),w=n(25),b=n(36),g="[ORDER]  GET_ALL_REVIEWS";function E(e){var t=localStorage.getItem("jwtToken"),n=fetch(w.a+"/api/admin/product-review?product_id=".concat(e),{headers:{Authorization:"Bearer "+t}});return function(e){return n.then(function(e){return e.json()}).then(function(t){console.log(t,"DATA"),!0===t.status&&e({type:g,payload:t.data})}).catch(function(e){throw e})}}function j(e,t){var n=localStorage.getItem("jwtToken"),a=fetch(w.a+"/api/admin/product-review/".concat(e),{headers:{Authorization:"Bearer "+n},method:"delete"});return function(e){return a.then(function(e){return e.json()}).then(function(n){console.log(n,"DATA"),!0===n.status&&(e(E(t)),e(Object(b.A)({message:"Deleted successfully",variant:"success"})))}).catch(function(e){throw e})}}var O={data:null,loading:!1,error:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(h.a)({},e,{data:t.payload});default:return e}},R=Object(f.d)({reviews:A}),D=n(942),y=n.n(D),S=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault()},n.componentDidMount=function(){n.props.getAllReviews()},n.handleSubmit=function(e){e.preventDefault(),n.props.getAllReviews(e.target.pro_id.value)},n.handleDelete=function(e){n.props.deleteReview(e.review_id,e.product_id)},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.props.reviews),s.a.createElement("div",{class:"container mt-4"},s.a.createElement(p.a,{onSubmit:this.handleSubmit},s.a.createElement(p.a.Group,{controlId:"formBasicEmail"},s.a.createElement(p.a.Label,null,"Enter Product Id"),s.a.createElement(p.a.Control,{name:"pro_id",type:"text"}))),s.a.createElement("div",{className:"mt-4"},this.props.reviews&&this.props.reviews.data?this.props.reviews.data.map(function(t){return s.a.createElement("div",{className:"bg-white p-4 mt-4"},s.a.createElement("div",{className:"flex justify-between"},s.a.createElement("div",null,s.a.createElement("p",{className:"font-weight-bold"},t.title),s.a.createElement("p",null,t.review),s.a.createElement(d.a,{className:"mt-2",rating:t.rating,starRatedColor:"golden",numberOfStars:5,name:"rating",starDimension:"20px"})),s.a.createElement(y.a,{onClick:function(n){return e.handleDelete(t)}})))}):null))}}]),t}(s.a.Component);t.default=Object(m.a)("Reviews",R)(Object(v.a)(function(e){return console.log(e,"state"),{reviews:e.Reviews.reviews}},function(e){return Object(f.c)({getAllReviews:E,deleteReview:j},e)})(S))}}]);