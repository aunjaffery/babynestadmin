(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{7211:function(e,t,n){"use strict";var a=n(31),r="[ATTRIBUTE] GET ATTRIBUTE VALUES",o="[ATTRIBUTE] GET ATTRIBUTE CATEGORIES",i="[ATTRIBUTE] ADD ATTRIBUTE CATEGORY",l="[ATTRIBUTE] ADD ATTRIBUTE VALUES",c="[DIALOG] CLOSE DIALOG",u="[DIALOG] OPEN DIALOG";function s(){return function(e){Object(a.a)("product/attributeCategories","","",1).then(function(t){return e({type:o,payload:t.data})})}}function d(e){var t="product/getAttributeValues?att_id=".concat(e);return function(e){Object(a.a)(t,"","",1).then(function(t){return e({type:r,payload:t.data})})}}function f(e){return function(t){Object(a.a)("product/addAttributeCategory","POST",e).then(function(e){return t(s()),t({type:i,payload:{name:""}})})}}function m(e){return function(t){Object(a.a)("product/addAttributeCatValues","POST",e).then(function(e){return t({type:l,payload:{toggleDialog:!1}})})}}function g(){return function(e){return e({type:u,payload:{toggleDialog:!0}})}}function p(){return function(e){return e({type:c,payload:{toggleDialog:!1}})}}var h=n(43),O="[PRODUCT] GET PRODUCTS",b="[PRODUCT] ADD SIMPLE PRODUCT",E="[PRODUCT] ADD VARIANT PRODUCT",y="[PRODUCT] UPDATE SIMPLE PRODUCT",D="[PRODUCT] UPDATE PRODUCT STATUS",T="[PRODUCT] DELETE PRODUCT",v="[PRODUCT] DELETE PRODUCT IMAGE",C="[PRODUCT] GENERATE DYNAMIC LINK";function j(){return function(e){Object(a.a)("product","","",!0).then(function(t){return console.log("Product Data :: "+JSON.stringify(t.data)),e({type:O,payload:t.data})})}}function S(e){return function(t){Object(a.a)("product/addSimpleProduct","POST",e).then(function(e){return t({type:b})})}}function A(e){return function(t){Object(a.a)("product/updateSimpleProduct","POST",e).then(function(e){return t(j()),t({type:y})})}}function I(e,t){var n=new FormData;n.append("id",e),n.append("type","product"),n.append("slug",t);return function(e){Object(a.a)("/d-links/add","POST",n).then(function(t){e(F()),e({type:C})}).catch(function(t){e({type:C})})}}function R(e){return function(t){Object(a.a)("product/removeProductImage","POST",e).then(function(e){return t(F()),t({type:v})})}}function x(e){return function(t){Object(a.a)("product/updateDeleteStatus","POST",e).then(function(e){return t(F()),t({type:T})})}}function F(){return function(e){Object(a.a)("product","","",!0).then(function(t){return e({type:O,payload:t.data})})}}function w(e){return function(t){Object(a.a)("product/updateStockStatus","POST",e).then(function(e){return t(F()),t({type:D})})}}var P="[OFFER] GET OFFER",k="[OFFER] ADD OFFER",U="[OFFER] DELETE OFFER";function _(){return function(e){Object(a.a)("offers").then(function(t){return e({type:P,payload:t.data})})}}function N(){return function(e){Object(a.a)("offers","","",1).then(function(t){return e({type:P,payload:t.data})})}}function B(e){return function(t){Object(a.a)("offers/add","POST",e).then(function(e){return t(N()),t({type:k,payload:{toggleDialog:!1}})})}}function L(e){var t="offers/delete?offer_id=".concat(e);return function(e){Object(a.a)(t).then(function(t){return e(N()),e({type:U})})}}n.d(t,"l",function(){return r}),n.d(t,"k",function(){return o}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"f",function(){return c}),n.d(t,"o",function(){return u}),n.d(t,"y",function(){return s}),n.d(t,"z",function(){return d}),n.d(t,"q",function(){return f}),n.d(t,"r",function(){return m}),n.d(t,"E",function(){return g}),n.d(t,"u",function(){return p}),n.d(t,"D",function(){return h.z}),n.d(t,"n",function(){return O}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return E}),n.d(t,"p",function(){return D}),n.d(t,"h",function(){return T}),n.d(t,"i",function(){return v}),n.d(t,"j",function(){return C}),n.d(t,"B",function(){return j}),n.d(t,"t",function(){return S}),n.d(t,"G",function(){return A}),n.d(t,"x",function(){return I}),n.d(t,"F",function(){return R}),n.d(t,"w",function(){return x}),n.d(t,"H",function(){return w}),n.d(t,"D",function(){return h.z}),n.d(t,"C",function(){return h.y}),n.d(t,"m",function(){return P}),n.d(t,"c",function(){return k}),n.d(t,"g",function(){return U}),n.d(t,"f",function(){}),n.d(t,"o",function(){}),n.d(t,"A",function(){return _}),n.d(t,"s",function(){return B}),n.d(t,"v",function(){return L}),n.d(t,"u",function(){}),n.d(t,"E",function(){})},7222:function(e,t,n){"use strict";var a=n(16),r=n(7),o=n(7211),i={data:null,prod_att_cat_items:null,att_cat_values:null,toggleDialog:!1},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.k:return Object(r.a)({},e,{prod_att_cat_items:t.payload});case o.l:return Object(r.a)({},e,{att_cat_values:t.payload});case o.a:return Object(r.a)({},e);case o.b:case o.f:case o.o:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});default:return e}},c=n(43),u={data:null},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.g:return Object(r.a)({},e,{categories:t.payload});case o.n:return Object(r.a)({},e,{productData:t.payload});case o.d:case o.e:case o.p:case o.h:case o.i:case o.j:return Object(r.a)({},e);default:return e}},d={data:null,categories:null,allTags:null,offersData:null,toggleDialog:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.g:return Object(r.a)({},e,{categories:t.payload});case c.l:return Object(r.a)({},e,{allTags:t.payload});case o.m:return Object(r.a)({},e,{offersData:t.payload});case o.c:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});case o.g:return Object(r.a)({},e);case o.o:case o.f:return Object(r.a)({},e,{toggleDialog:t.payload.toggleDialog});default:return e}},m=Object(a.d)({attribute:l,product:s,offer:f});t.a=m},7233:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var a=n(9),r=n(10),o=n(12),i=n(11),l=n(13),c=n(0),u=n.n(c),s=n(292),d=n.n(s),f=n(568),m=n.n(f),g=n(569),p=n.n(g),h=n(290),O=n.n(h),b=n(571),E=n.n(b),y=n(291),D=n.n(y),T=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleClose=function(){n.setState({open:!1,content:""})},n.onDisagree=function(){n.props.handleDialogOutput(!1),n.handleClose()},n.onAgree=function(){n.props.handleDialogOutput(!0),n.handleClose()},n.state={open:e.open,content:e.content},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({open:e.open,contnet:e.content})}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(m.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.a.createElement(D.a,{id:"alert-dialog-title"},"Use Google's location service?"),u.a.createElement(O.a,null,u.a.createElement(E.a,{id:"alert-dialog-description"},this.state.content)),u.a.createElement(p.a,null,u.a.createElement(d.a,{onClick:this.onDisagree,color:"primary"},"Disagree"),u.a.createElement(d.a,{onClick:this.onAgree,color:"primary",autoFocus:!0},"Agree"))))}}]),t}(u.a.Component)},7350:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(10),o=n(12),i=n(11),l=n(13),c=n(0),u=n.n(c),s=n(1),d=n(49),f=n.n(d),m=n(75),g=n(5),p=n(121),h=n.n(p),O=(n(246),n(21)),b=n(25),E=n(7233),y=(n(288),n(66)),D=n(19),T=n(16),v=n(7222),C=n(7211);function j(e){return u.a.createElement(s.Z,Object.assign({direction:"up"},e))}var S=Object(m.withStyles)(function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}),A=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=u.a.createRef(),n.handleClickOpen=function(){n.props.openDialog(),n.props.getUpdatedCategory()},n.handleClose=function(){n.props.closeDialog()},n.handleCategory=function(e){console.log("You selected :: "+e.target.value),n.props.getTag(e.target.value)},n.handleTag=function(){n.setState({hasTag:!0})},n.handleOfferImage=function(e){n.setState({offerImg:e.target.files[0],selectedOfferName:e.target.files[0].name})},n.handleSubmit=function(){console.log("Form Data :: "+JSON.stringify(n.form.getModel())),console.log("Image :: "+n.state.offerImg);var e=n.form.getModel(),t=e.cat_id,a=e.tag_id,r=e.offer_link,o=new FormData;o.append("category_id",t),o.append("tag_id",a),o.append("link",r),o.append("image",n.state.offerImg),n.props.addOffer(o),n.form.reset(),n.setState({offerImg:"",selectedOfferName:""})},n.enableButton=function(){n.setState({canSubmit:!0})},n.disableButton=function(){n.setState({canSubmit:!1})},n.deleteFormatter=function(e,t,a){return u.a.createElement(s.d,{bssize:"small",className:"btn-custom",onClick:function(){return n.onClickOfferDeleted(e,t,a)},icon:"delete",labelposition:"center"},u.a.createElement(s.E,{className:"mr-4 text-20"},"delete"))},n.handleDialogOutput=function(e){e?(n.setState({dialogOpen:!1,content:""}),n.state.agreeFunc()):n.setState({dialogOpen:!1,content:""})},n.columns=[{dataField:"offer_id",text:"Offer ID",isKey:!0,editable:!1},{dataField:"cat_name",text:"Category"},{dataField:"link",text:"Offer Link"},{dataField:"tag_name",text:"Tag"},{dataField:"image",text:"Image",formatter:n.imageFormatter},{dataField:"",text:"Action",formatter:n.deleteFormatter,isDummyField:!0,editable:!1}],n.state={offersData:[],categories:[],allTags:[],editSuccess:!1,toggleDialog:!1,canSubmit:!0,hasTag:!1},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getOffers()}},{key:"onClickOfferDeleted",value:function(e,t,n){var a=this;this.setState({dialogOpen:!0,content:"Are you sure to delete ?",agreeFunc:function(){var e=t.offer_id;a.props.deleteOffer(e),a.setState({agreeFunc:null})}})}},{key:"imageFormatter",value:function(e,t){var n="".concat(b.a).concat(t.image);return u.a.createElement("img",{style:{width:"15%",marginLeft:"25%"},src:n,alt:""})}},{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement(g.m,{header:u.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between"},u.a.createElement("div",{className:"flex flex-col items-start max-w-full"},u.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(s.ib,{className:"normal-case flex items-center sm:mb-12",component:O.a,role:"button",to:"/apps/dashboards/analytics"},u.a.createElement(s.E,{className:"mr-4 text-20"},"arrow_back"),"Dashboard")),u.a.createElement("div",{className:"flex items-center max-w-full"},u.a.createElement(g.a,{animation:"transition.expandIn",delay:300},u.a.createElement("img",{className:"w-32 sm:w-48 mr-8 sm:mr-16 rounded",src:"assets/images/component_icons/home_white_24dp.png",alt:"{form.name}"})),u.a.createElement("div",{className:"flex flex-col min-w-0"},u.a.createElement(g.a,{animation:"transition.slideLeftIn",delay:300},u.a.createElement(s.ib,{className:"text-16 sm:text-20 truncate"},"Offers"))))),u.a.createElement("div",{className:"flex items-center justify-end"},u.a.createElement(s.d,{variant:"contained",color:"secondary",onClick:this.handleClickOpen},"Add Offer"),u.a.createElement(s.o,{fullWidth:!0,maxWidth:"sm",onClose:this.handleClose,open:this.state.toggleDialog,"aria-labelledby":"max-width-dialog-title",TransitionComponent:j,keepMounted:!0},u.a.createElement(s.s,{id:"max-width-dialog-title",onClose:this.handleClose},"Add new Offer"),u.a.createElement(s.q,null,u.a.createElement(s.r,{style:{marginBottom:"20px"}},"Fill the Form and Submit to add offer."),u.a.createElement(f.a,{onValid:this.enableButton,onInvalid:this.disableButton,ref:function(t){return e.form=t},className:"flex flex-col justify-center"},u.a.createElement(g.v,{className:"mr-6 w-full mb-16",name:"cat_id",label:"Select Category",value:"none",onChange:this.handleCategory,variant:"outlined"},this.state.categories&&this.state.categories.map(function(e){return u.a.createElement(s.R,{key:e.cat_id,value:e.cat_id},e.cat_name)})),this.state.allTags&&u.a.createElement(g.b,{enter:{animation:"transition.slideUpBigIn"}},u.a.createElement(g.v,{className:"mr-6 w-full mb-16",name:"tag_id",label:"Select Tag",value:"none",onChange:this.handleTag,variant:"outlined"},this.state.allTags.map(function(e){return u.a.createElement(s.R,{key:e.Id,value:e.Id},e.Name)}))),this.state.hasTag&&u.a.createElement(g.b,{enter:{animation:"transition.slideUpBigIn"}},u.a.createElement(g.w,{type:"text",name:"offer_link",label:"Offer Redirect Link",className:"mb-16 mr-6 w-full",validations:{minLength:10},variant:"outlined",validationErrors:{minLength:"Min character length is 10"},required:!0}),u.a.createElement(s.B,null,u.a.createElement("div",{className:"pr-md-1 upload-btn-wrapper mb-16"},u.a.createElement("button",{className:"btn1"},"Offer Image"),u.a.createElement("input",{onChange:this.handleOfferImage,type:"file",name:"offer_image"}),u.a.createElement("h6",{style:{color:"white",marginTop:"10px"}},this.state.selectedOfferName)))))),this.state.hasTag&&u.a.createElement(s.p,null,u.a.createElement(s.d,{onClick:this.handleClose,color:"secondary"},"Cancel"),u.a.createElement(s.d,{onClick:this.handleSubmit,ref:function(t){return e.submitButton=t},disabled:!this.state.canSubmit,color:"secondary"},"Submit"))))),content:u.a.createElement("div",null,u.a.createElement("div",{className:"md:flex max-w-5xl sm:p-24"},u.a.createElement("div",{className:"flex flex-col flex-1 md:pr-32"},u.a.createElement(g.b,{enter:{animation:"transition.slideUpBigIn"}},this.state.offersData&&u.a.createElement(h.a,{classes:"table-responsive",striped:!0,bordered:!1,keyField:"offer_id",data:this.state.offersData,columns:this.columns,hover:!0,noDataIndication:"Table is Empty",overflow:"scroll"})))))}),u.a.createElement(E.a,{open:this.state.dialogOpen||!1,content:this.state.content||"",handleDialogOutput:this.handleDialogOutput}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{offersData:e.offersData,categories:e.categories,allTags:e.allTags,toggleDialog:e.toggleDialog}}}]),t}(c.Component);t.default=Object(y.a)("offers",v.a)(Object(m.withStyles)(S)(Object(D.a)(function(e,t){return{offersData:e.offers.offer.offersData,categories:e.offers.offer.categories,allTags:e.offers.offer.allTags,toggleDialog:e.offers.offer.toggleDialog}},function(e,t){return Object(T.c)({getOffers:C.A,getUpdatedCategory:C.D,getTag:C.C,addOffer:C.s,deleteOffer:C.v,openDialog:C.E,closeDialog:C.u},e)})(A)))}}]);